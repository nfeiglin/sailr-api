!function(){function e(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}}var t=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1},n=function(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])};if(window.XMLHttpRequest&&(!window.FormData||window.FileAPI&&FileAPI.forceLoad?(n("open",function(t){return function(n,i,r){e(this),this.__url=i,t.apply(this,[n,i,r])}}),n("getResponseHeader",function(e){return function(t){return this.__fileApiXHR?this.__fileApiXHR.getResponseHeader(t):e.apply(this,[t])}}),n("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),n("abort",function(e){return function(){return this.__fileApiXHR?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),n("setRequestHeader",function(t){return function(n,i){if("__setXHR_"===n){e(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[n]=i,t.apply(this,arguments)}}),n("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isShim){var i=arguments[0],r={url:n.__url,complete:function(e,t){!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==t.status&&Object.defineProperty(n,"status",{get:function(){return t.status}}),void 0!==t.statusText&&Object.defineProperty(n,"statusText",{get:function(){return t.statusText}}),Object.defineProperty(n,"readyState",{get:function(){return 4}}),void 0!==t.response&&Object.defineProperty(n,"response",{get:function(){return t.response}}),Object.defineProperty(n,"responseText",{get:function(){return t.responseText}}),n.__fileApiXHR=t,n.onreadystatechange()},fileprogress:function(e){e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded},headers:n.__requestHeaders};r.data={},r.files={};for(var a=0;a<i.data.length;a++){var s=i.data[a];null!=s.val&&null!=s.val.name&&null!=s.val.size&&null!=s.val.type?r.files[s.key]=s.val:r.data[s.key]=s.val}setTimeout(function(){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)},1)}else e.apply(n,arguments)}})):n("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}),window.XMLHttpRequest.__isShim=!0),!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(e){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';if(!e.__isWrapped&&(null!=e.getAttribute("ng-file-select")||null!=e.getAttribute("data-ng-file-select"))){var n=document.createElement("div");n.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"></div>',n=n.firstChild;var i=e.parentNode;i.insertBefore(n,e),i.removeChild(e),n.appendChild(e),e.__isWrapped=!0}},r=function(e){return function(t){for(var n=FileAPI.getFiles(t),i=0;i<n.length;i++)void 0===n[i].size&&(n[i].size=0),void 0===n[i].name&&(n[i].name="file"),void 0===n[i].type&&(n[i].type="undefined");t.target||(t.target={}),t.target.files=n,t.target.files.item=function(e){return t.target.files[e]||null},e(t)}},a=function(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(e){return function(t,n,s,o){a(this,t)?(i(this),e.apply(this,[t,r(n),s,o])):e.apply(this,[t,n,s,o])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(e){return function(t,n){a(this,t)?(i(this),e.apply(this,[t,r(n)])):e.apply(this,[t,n])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(e,t,n){this.data.push({key:e,val:t,name:n})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),!FileAPI.upload){var e,n,i,r,a,s=document.createElement("script"),o=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)n=window.FileAPI.jsPath;else for(i=0;i<o.length;i++)if(a=o[i].src,r=a.indexOf("angular-file-upload-shim.js"),-1==r&&(r=a.indexOf("angular-file-upload-shim.min.js")),r>-1){n=a.substring(0,r);break}null==FileAPI.staticPath&&(FileAPI.staticPath=n),s.setAttribute("src",e||n+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s),FileAPI.hasFlash=t()}}()}window.FileReader||(window.FileReader=function(){function e(e,n){var i={type:e,target:t,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i}var t=this,n=!1;this.listeners={},this.addEventListener=function(e,n){t.listeners[e]=t.listeners[e]||[],t.listeners[e].push(n)},this.removeEventListener=function(e,n){t.listeners[e]&&t.listeners[e].splice(t.listeners[e].indexOf(n),1)},this.dispatchEvent=function(e){var n=t.listeners[e.type];if(n)for(var i=0;i<n.length;i++)n[i].call(t,e)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var i=function(i){if(n||(n=!0,t.onloadstart&&this.onloadstart(e("loadstart",i))),"load"===i.type){t.onloadend&&t.onloadend(e("loadend",i));var r=e("load",i);t.onload&&t.onload(r),t.dispatchEvent(r)}else if("progress"===i.type){var r=e("progress",i);t.onprogress&&t.onprogress(r),t.dispatchEvent(r)}else{var r=e("error",i);t.onerror&&t.onerror(r),t.dispatchEvent(r)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}})}();
!function(){var e=angular.module("angularFileUpload",[]);e.service("$upload",["$http","$q","$timeout",function(e,n,t){function r(r){r.method=r.method||"POST",r.headers=r.headers||{},r.transformRequest=r.transformRequest||function(n,t){return window.ArrayBuffer&&n instanceof window.ArrayBuffer?n:e.defaults.transformRequest[0](n,t)};var a=n.defer();window.XMLHttpRequest.__isShim&&(r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){a.notify(e)},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&a.notify(e)},!1))}}),e(r).then(function(e){a.resolve(e)},function(e){a.reject(e)},function(e){a.notify(e)});var o=a.promise;return o.success=function(e){return o.then(function(n){e(n.data,n.status,n.headers,r)}),o},o.error=function(e){return o.then(null,function(n){e(n.data,n.status,n.headers,r)}),o},o.progress=function(e){return o.then(null,null,function(n){e(n)}),o},o.abort=function(){return r.__XHR&&t(function(){r.__XHR.abort()}),o},o.xhr=function(e){return r.xhrFn=function(n){return function(){n&&n.apply(o,arguments),e.apply(o,arguments)}}(r.xhrFn),o},o}this.upload=function(n){n.headers=n.headers||{},n.headers["Content-Type"]=void 0,n.transformRequest=n.transformRequest||e.defaults.transformRequest;var t=new FormData,a=n.transformRequest,o=n.data;return n.transformRequest=function(e,t){if(o)if(n.formDataAppender)for(var r in o){var i=o[r];n.formDataAppender(e,r,i)}else for(var r in o){var i=o[r];if("function"==typeof a)i=a(i,t);else for(var f=0;f<a.length;f++){var u=a[f];"function"==typeof u&&(i=u(i,t))}e.append(r,i)}if(null!=n.file){var s=n.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(n.file))for(var l="[object String]"===Object.prototype.toString.call(s),f=0;f<n.file.length;f++)e.append(l?s:s[f],n.file[f],n.fileName&&n.fileName[f]||n.file[f].name);else e.append(s,n.file,n.fileName||n.file.name)}return e},n.data=t,r(n)},this.http=function(e){return r(e)}}]),e.directive("ngFileSelect",["$parse","$timeout",function(e,n){return function(t,r,a){var o=e(a.ngFileSelect);r.bind("change",function(e){var r,a,i=[];if(r=e.target.files,null!=r)for(a=0;a<r.length;a++)i.push(r.item(a));n(function(){o(t,{$files:i,$event:e})})}),("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&r.bind("touchend",function(e){e.preventDefault(),e.target.click()})}}]),e.directive("ngFileDropAvailable",["$parse","$timeout",function(e,n){return function(t,r,a){if("draggable"in document.createElement("span")){var o=e(a.ngFileDropAvailable);n(function(){o(t)})}}}]),e.directive("ngFileDrop",["$parse","$timeout","$location",function(e,n,t){return function(r,a,o){function i(e){return/^[\000-\177]*$/.test(e)}function f(e,r){var a=[],o=e.dataTransfer.items;if(o&&o.length>0&&o[0].webkitGetAsEntry&&"file"!=t.protocol())for(var f=0;f<o.length;f++){var s=o[f].webkitGetAsEntry();null!=s&&(i(s.name)?u(a,s):a.push(o[f].getAsFile()))}else{var l=e.dataTransfer.files;if(null!=l)for(var f=0;f<l.length;f++)a.push(l.item(f))}!function d(e){n(function(){c?d(10):r(a)},e||0)}()}function u(e,n){if(null!=n)if(n.isDirectory){var t=n.createReader();c++,t.readEntries(function(n){for(var t=0;t<n.length;t++)u(e,n[t]);c--})}else c++,n.file(function(n){c--,e.push(n)})}if("draggable"in document.createElement("span")){var s=null;a[0].addEventListener("dragover",function(t){if(t.stopPropagation(),t.preventDefault(),a.addClass(a[0].__drag_over_class_),n.cancel(s),!a[0].__drag_entered_){a[0].__drag_entered_=!0;var i=e(o.ngFileDragOverClass);if(i instanceof Function){var f=i(r,{$event:t});a[0].__drag_over_class_=f,a.addClass(a[0].__drag_over_class_)}else a[0].__drag_over_class_=o.ngFileDragOverClass||"dragover",a.addClass(a[0].__drag_over_class_)}},!1),a[0].addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault()},!1),a[0].addEventListener("dragleave",function(){s=n(function(){a[0].__drag_entered_=!1,a.removeClass(a[0].__drag_over_class_)})},!1);var l=e(o.ngFileDrop);a[0].addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),a[0].__drag_entered_=!1,a.removeClass(a[0].__drag_over_class_),f(e,function(n){l(r,{$files:n,$event:e})})},!1);var c=0}}}])}();
var app=angular.module("app",["angularFileUpload","ngSanitize"]);app.run(["$rootScope",function(a){a.baseURL=baseURL?baseURL:"https://sailr.co",a.loggedInUser=loggedInUser}]);
function MediumEditor(e,t){"use strict";return this.init(e,t)}"object"==typeof module&&(module.exports=MediumEditor),function(e,t){"use strict";function i(e,t){var i;if(void 0===e)return t;for(i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)===!1&&(e[i]=t[i]);return e}function n(){var t,i,n,o=e.getSelection();if(o.getRangeAt&&o.rangeCount){for(n=[],t=0,i=o.rangeCount;i>t;t+=1)n.push(o.getRangeAt(t));return n}return null}function o(t){var i,n,o=e.getSelection();if(t)for(o.removeAllRanges(),i=0,n=t.length;n>i;i+=1)o.addRange(t[i])}function r(){var e=t.getSelection().anchorNode,i=e&&3===e.nodeType?e.parentNode:e;return i}function a(){var i,n,o,r,a="";if(void 0!==e.getSelection){if(n=e.getSelection(),n.rangeCount){for(r=t.createElement("div"),i=0,o=n.rangeCount;o>i;i+=1)r.appendChild(n.getRangeAt(i).cloneContents());a=r.innerHTML}}else void 0!==t.selection&&"Text"===t.selection.type&&(a=t.selection.createRange().htmlText);return a}function s(e){return!(!e||1!==e.nodeType)}MediumEditor.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",anchorPreviewHideDelay:500,buttons:["bold","italic","underline","anchor","header1","header2","quote"],buttonLabels:!1,checkLinkFormat:!1,cleanPastedHTML:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableDoubleReturn:!1,disableToolbar:!1,disableEditing:!1,elementsContainer:!1,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1,extensions:{},activeButtonClass:"medium-editor-button-active",firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last"},isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),init:function(e,n){return this.setElementSelection(e),0!==this.elements.length?(this.parentElements=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.id=t.querySelectorAll(".medium-editor-toolbar").length+1,this.options=i(n,this.defaults),this.setup()):void 0},setup:function(){this.isActive=!0,this.initElements().bindSelect().bindPaste().bindWindowActions()},initElements:function(){this.updateElementList();var e,i=!1;for(e=0;e<this.elements.length;e+=1)this.options.disableEditing||this.elements[e].getAttribute("data-disable-editing")||this.elements[e].setAttribute("contentEditable",!0),this.elements[e].setAttribute("data-medium-element",!0),this.bindParagraphCreation(e).bindReturn(e).bindTab(e),this.options.disableToolbar||this.elements[e].getAttribute("data-disable-toolbar")||(i=!0);return i&&(this.options.elementsContainer||(this.options.elementsContainer=t.body),this.initToolbar().bindButtons().bindAnchorForm().bindAnchorPreview()),this},setElementSelection:function(e){this.elementSelection=e,this.updateElementList()},updateElementList:function(){this.elements="string"==typeof this.elementSelection?t.querySelectorAll(this.elementSelection):this.elementSelection,1===this.elements.nodeType&&(this.elements=[this.elements])},serialize:function(){var e,t,i={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,i[t]={value:this.elements[e].innerHTML.trim()};return i},callExtensions:function(e){if(!(arguments.length<1)){var t,i,n=Array.prototype.slice.call(arguments,1);for(i in this.options.extensions)this.options.extensions.hasOwnProperty(i)&&(t=this.options.extensions[i],void 0!==t[e]&&t[e].apply(t,n))}},bindParagraphCreation:function(e){var i=this;return this.elements[e].addEventListener("keypress",function(e){var i,n=r();32===e.which&&(i=n.tagName.toLowerCase(),"a"===i&&t.execCommand("unlink",!1,null))}),this.elements[e].addEventListener("keyup",function(e){var n,o=r();o&&o.getAttribute("data-medium-element")&&0===o.children.length&&!i.options.disableReturn&&!o.getAttribute("data-disable-return")&&t.execCommand("formatBlock",!1,"p"),13===e.which&&(o=r(),n=o.tagName.toLowerCase(),i.options.disableReturn||this.getAttribute("data-disable-return")||"li"===n||i.isListItemChild(o)||(e.shiftKey||t.execCommand("formatBlock",!1,"p"),"a"===n&&t.execCommand("unlink",!1,null)))}),this},isListItemChild:function(e){for(var t=e.parentNode,i=t.tagName.toLowerCase();-1===this.parentElements.indexOf(i)&&"div"!==i;){if("li"===i)return!0;if(t=t.parentNode,!t||!t.tagName)return!1;i=t.tagName.toLowerCase()}return!1},bindReturn:function(e){var t=this;return this.elements[e].addEventListener("keypress",function(e){if(13===e.which)if(t.options.disableReturn||this.getAttribute("data-disable-return"))e.preventDefault();else if(t.options.disableDoubleReturn||this.getAttribute("data-disable-double-return")){var i=r();i&&"\n"===i.innerText&&e.preventDefault()}}),this},bindTab:function(e){return this.elements[e].addEventListener("keydown",function(e){if(9===e.which){var i=r().tagName.toLowerCase();"pre"===i&&(e.preventDefault(),t.execCommand("insertHtml",null,"    "))}}),this},buttonTemplate:function(e){var t=this.getButtonLabels(this.options.buttonLabels),i={bold:'<button class="medium-editor-action medium-editor-action-bold" data-action="bold" data-element="b">'+t.bold+"</button>",italic:'<button class="medium-editor-action medium-editor-action-italic" data-action="italic" data-element="i">'+t.italic+"</button>",underline:'<button class="medium-editor-action medium-editor-action-underline" data-action="underline" data-element="u">'+t.underline+"</button>",strikethrough:'<button class="medium-editor-action medium-editor-action-strikethrough" data-action="strikethrough" data-element="strike"><strike>A</strike></button>',superscript:'<button class="medium-editor-action medium-editor-action-superscript" data-action="superscript" data-element="sup">'+t.superscript+"</button>",subscript:'<button class="medium-editor-action medium-editor-action-subscript" data-action="subscript" data-element="sub">'+t.subscript+"</button>",anchor:'<button class="medium-editor-action medium-editor-action-anchor" data-action="anchor" data-element="a">'+t.anchor+"</button>",image:'<button class="medium-editor-action medium-editor-action-image" data-action="image" data-element="img">'+t.image+"</button>",header1:'<button class="medium-editor-action medium-editor-action-header1" data-action="append-'+this.options.firstHeader+'" data-element="'+this.options.firstHeader+'">'+t.header1+"</button>",header2:'<button class="medium-editor-action medium-editor-action-header2" data-action="append-'+this.options.secondHeader+'" data-element="'+this.options.secondHeader+'">'+t.header2+"</button>",quote:'<button class="medium-editor-action medium-editor-action-quote" data-action="append-blockquote" data-element="blockquote">'+t.quote+"</button>",orderedlist:'<button class="medium-editor-action medium-editor-action-orderedlist" data-action="insertorderedlist" data-element="ol">'+t.orderedlist+"</button>",unorderedlist:'<button class="medium-editor-action medium-editor-action-unorderedlist" data-action="insertunorderedlist" data-element="ul">'+t.unorderedlist+"</button>",pre:'<button class="medium-editor-action medium-editor-action-pre" data-action="append-pre" data-element="pre">'+t.pre+"</button>",indent:'<button class="medium-editor-action medium-editor-action-indent" data-action="indent" data-element="ul">'+t.indent+"</button>",outdent:'<button class="medium-editor-action medium-editor-action-outdent" data-action="outdent" data-element="ul">'+t.outdent+"</button>"};return i[e]||!1},getButtonLabels:function(e){var t,i,n={bold:"<b>B</b>",italic:"<b><i>I</i></b>",underline:"<b><u>U</u></b>",superscript:"<b>x<sup>1</sup></b>",subscript:"<b>x<sub>1</sub></b>",anchor:"<b>#</b>",image:"<b>image</b>",header1:"<b>H1</b>",header2:"<b>H2</b>",quote:"<b>&ldquo;</b>",orderedlist:"<b>1.</b>",unorderedlist:"<b>&bull;</b>",pre:"<b>0101</b>",indent:"<b>&rarr;</b>",outdent:"<b>&larr;</b>"};if("fontawesome"===e?t={bold:'<i class="fa fa-bold"></i>',italic:'<i class="fa fa-italic"></i>',underline:'<i class="fa fa-underline"></i>',superscript:'<i class="fa fa-superscript"></i>',subscript:'<i class="fa fa-subscript"></i>',anchor:'<i class="fa fa-link"></i>',image:'<i class="fa fa-picture-o"></i>',quote:'<i class="fa fa-quote-right"></i>',orderedlist:'<i class="fa fa-list-ol"></i>',unorderedlist:'<i class="fa fa-list-ul"></i>',pre:'<i class="fa fa-code fa-lg"></i>',indent:'<i class="fa fa-indent"></i>',outdent:'<i class="fa fa-outdent"></i>'}:"object"==typeof e&&(t=e),"object"==typeof t)for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.anchorForm=this.toolbar.querySelector(".medium-editor-toolbar-form-anchor"),this.anchorInput=this.anchorForm.querySelector("input"),this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this.anchorPreview=this.createAnchorPreview(),this)},createToolbar:function(){var e=t.createElement("div");return e.id="medium-editor-toolbar-"+this.id,e.className="medium-editor-toolbar",e.appendChild(this.toolbarButtons()),e.appendChild(this.toolbarFormAnchor()),this.options.elementsContainer.appendChild(e),e},toolbarButtons:function(){var e,i,n,o,r=this.options.buttons,a=t.createElement("ul");for(a.id="medium-editor-toolbar-actions",a.className="medium-editor-toolbar-actions clearfix",i=0;i<r.length;i+=1)this.options.extensions.hasOwnProperty(r[i])?(o=this.options.extensions[r[i]],n=void 0!==o.getButton?o.getButton():null):n=this.buttonTemplate(r[i]),n&&(e=t.createElement("li"),s(n)?e.appendChild(n):e.innerHTML=n,a.appendChild(e));return a},toolbarFormAnchor:function(){var e=t.createElement("div"),i=t.createElement("input"),n=t.createElement("a");return n.setAttribute("href","#"),n.innerHTML="&times;",i.setAttribute("type","text"),i.setAttribute("placeholder",this.options.anchorInputPlaceholder),e.className="medium-editor-toolbar-form-anchor",e.id="medium-editor-toolbar-form-anchor",e.appendChild(i),e.appendChild(n),e},bindSelect:function(){var e,i=this,n="";for(this.checkSelectionWrapper=function(e){return e&&i.clickingIntoArchorForm(e)?!1:(clearTimeout(n),void(n=setTimeout(function(){i.checkSelection()},i.options.delay)))},t.documentElement.addEventListener("mouseup",this.checkSelectionWrapper),e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("keyup",this.checkSelectionWrapper),this.elements[e].addEventListener("blur",this.checkSelectionWrapper);return this},checkSelection:function(){var t,i;return this.keepToolbarAlive===!0||this.options.disableToolbar||(t=e.getSelection(),""===t.toString().trim()||this.options.allowMultiParagraphSelection===!1&&this.hasMultiParagraphs()?this.hideToolbarActions():(i=this.getSelectionElement(),!i||i.getAttribute("data-disable-toolbar")?this.hideToolbarActions():this.checkSelectionElement(t,i))),this},clickingIntoArchorForm:function(e){var t=this;return e.type&&"blur"===e.type.toLowerCase()&&e.relatedTarget&&e.relatedTarget===t.anchorInput?!0:!1},hasMultiParagraphs:function(){var e=a().replace(/<[\S]+><\/[\S]+>/gim,""),t=e.match(/<(p|h[0-6]|blockquote)>([\s\S]*?)<\/(p|h[0-6]|blockquote)>/g);return t?t.length:0},checkSelectionElement:function(e,t){var i;for(this.selection=e,this.selectionRange=this.selection.getRangeAt(0),i=0;i<this.elements.length;i+=1)if(this.elements[i]===t)return void this.setToolbarButtonStates().setToolbarPosition().showToolbarActions();this.hideToolbarActions()},getSelectionElement:function(){var t,i,n,o,r=e.getSelection(),a=function(e){var t=e;try{for(;!t.getAttribute("data-medium-element");)t=t.parentNode}catch(i){return!1}return t};try{t=r.getRangeAt(0),i=t.commonAncestorContainer,n=i.parentNode,o=i.getAttribute("data-medium-element")?i:a(n)}catch(s){o=a(n)}return o},setToolbarPosition:function(){var t=50,i=e.getSelection(),n=i.getRangeAt(0),o=n.getBoundingClientRect(),r=this.options.diffLeft-this.toolbar.offsetWidth/2,a=(o.left+o.right)/2,s=this.toolbar.offsetWidth/2;return o.top<t?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=t+o.bottom-this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=o.top+this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"),this.toolbar.style.left=s>a?r+s+"px":e.innerWidth-a<s?e.innerWidth+r-s+"px":r+a+"px",this.hideAnchorPreview(),this},setToolbarButtonStates:function(){var e,t=this.toolbarActions.querySelectorAll("button");for(e=0;e<t.length;e+=1)t[e].classList.remove(this.options.activeButtonClass);return this.checkActiveButtons(),this},checkActiveButtons:function(){for(var e=Array.prototype.slice.call(this.elements),t=this.getSelectedParentElement();void 0!==t.tagName&&-1===this.parentElements.indexOf(t.tagName.toLowerCase)&&(this.activateButton(t.tagName.toLowerCase()),this.callExtensions("checkState",t),-1===e.indexOf(t));)t=t.parentNode},activateButton:function(e){var t=this.toolbar.querySelector('[data-element="'+e+'"]');null!==t&&-1===t.className.indexOf(this.options.activeButtonClass)&&(t.className+=" "+this.options.activeButtonClass)},bindButtons:function(){var e,t=this.toolbar.querySelectorAll("button"),i=this,n=function(e){e.preventDefault(),e.stopPropagation(),void 0===i.selection&&i.checkSelection(),this.className.indexOf(i.options.activeButtonClass)>-1?this.classList.remove(i.options.activeButtonClass):this.className+=" "+i.options.activeButtonClass,this.hasAttribute("data-action")&&i.execAction(this.getAttribute("data-action"),e)};for(e=0;e<t.length;e+=1)t[e].addEventListener("click",n);return this.setFirstAndLastItems(t),this},setFirstAndLastItems:function(e){return e.length>0&&(e[0].className+=" "+this.options.firstButtonClass,e[e.length-1].className+=" "+this.options.lastButtonClass),this},execAction:function(i,n){i.indexOf("append-")>-1?(this.execFormatBlock(i.replace("append-","")),this.setToolbarPosition(),this.setToolbarButtonStates()):"anchor"===i?this.triggerAnchorAction(n):"image"===i?t.execCommand("insertImage",!1,e.getSelection()):(t.execCommand(i,!1,null),this.setToolbarPosition())},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(){var e=null,t=this.selectionRange;return e=this.rangeSelectsSingleNode(t)?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer},triggerAnchorAction:function(){var e=this.getSelectedParentElement();return e.tagName&&"a"===e.tagName.toLowerCase()?t.execCommand("unlink",!1,null):"block"===this.anchorForm.style.display?this.showToolbarActions():this.showAnchorForm(),this},execFormatBlock:function(e){var i=this.getSelectionData(this.selection.anchorNode);if("blockquote"===e&&i.el&&"blockquote"===i.el.parentNode.tagName.toLowerCase())return t.execCommand("outdent",!1,null);if(i.tagName===e&&(e="p"),this.isIE){if("blockquote"===e)return t.execCommand("indent",!1,e);e="<"+e+">"}return t.execCommand("formatBlock",!1,e)},getSelectionData:function(e){var t;for(e&&e.tagName&&(t=e.tagName.toLowerCase());e&&-1===this.parentElements.indexOf(t);)e=e.parentNode,e&&e.tagName&&(t=e.tagName.toLowerCase());return{el:e,tagName:t}},getFirstChild:function(e){for(var t=e.firstChild;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},hideToolbarActions:function(){this.keepToolbarAlive=!1,void 0!==this.toolbar&&this.toolbar.classList.remove("medium-editor-toolbar-active")},showToolbarActions:function(){var e,t=this;this.anchorForm.style.display="none",this.toolbarActions.style.display="block",this.keepToolbarAlive=!1,clearTimeout(e),e=setTimeout(function(){t.toolbar&&!t.toolbar.classList.contains("medium-editor-toolbar-active")&&t.toolbar.classList.add("medium-editor-toolbar-active")},100)},saveSelection:function(){this.savedSelection=n()},restoreSelection:function(){o(this.savedSelection)},showAnchorForm:function(e){this.toolbarActions.style.display="none",this.saveSelection(),this.anchorForm.style.display="block",this.keepToolbarAlive=!0,this.anchorInput.focus(),this.anchorInput.value=e||""},bindAnchorForm:function(){var e=this.anchorForm.querySelector("a"),t=this;return this.anchorForm.addEventListener("click",function(e){e.stopPropagation()}),this.anchorInput.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),t.createLink(this))}),this.anchorInput.addEventListener("click",function(e){e.stopPropagation(),t.keepToolbarAlive=!0}),this.anchorInput.addEventListener("blur",function(){t.keepToolbarAlive=!1,t.checkSelection()}),e.addEventListener("click",function(e){e.preventDefault(),t.showToolbarActions(),o(t.savedSelection)}),this},hideAnchorPreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active")},showAnchorPreview:function(t){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active"))return!0;var i,n,o,r=this,a=40,s=t.getBoundingClientRect(),l=(s.left+s.right)/2;return r.anchorPreview.querySelector("i").textContent=t.href,i=r.anchorPreview.offsetWidth/2,n=r.options.diffLeft-i,clearTimeout(o),o=setTimeout(function(){r.anchorPreview&&!r.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&r.anchorPreview.classList.add("medium-editor-anchor-preview-active")},100),r.observeAnchorPreview(t),r.anchorPreview.classList.add("medium-toolbar-arrow-over"),r.anchorPreview.classList.remove("medium-toolbar-arrow-under"),r.anchorPreview.style.top=Math.round(a+s.bottom-r.options.diffTop+e.pageYOffset-r.anchorPreview.offsetHeight)+"px",r.anchorPreview.style.left=i>l?n+i+"px":e.innerWidth-l<i?e.innerWidth+n-i+"px":n+l+"px",this},observeAnchorPreview:function(e){var t=this,i=(new Date).getTime(),n=!0,o=function(){i=(new Date).getTime(),n=!0},r=function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(n=!1)},a=setInterval(function(){if(n)return!0;var s=(new Date).getTime()-i;s>t.options.anchorPreviewHideDelay&&(t.hideAnchorPreview(),clearInterval(a),t.anchorPreview.removeEventListener("mouseover",o),t.anchorPreview.removeEventListener("mouseout",r),e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",r))},200);t.anchorPreview.addEventListener("mouseover",o),t.anchorPreview.addEventListener("mouseout",r),e.addEventListener("mouseover",o),e.addEventListener("mouseout",r)},createAnchorPreview:function(){var e=this,i=t.createElement("div");return i.id="medium-editor-anchor-preview-"+this.id,i.className="medium-editor-anchor-preview",i.innerHTML=this.anchorPreviewTemplate(),this.options.elementsContainer.appendChild(i),i.addEventListener("click",function(){e.anchorPreviewClickHandler()}),i},anchorPreviewTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <i class="medium-editor-toolbar-anchor-preview-inner"></i></div>'},anchorPreviewClickHandler:function(){if(this.activeAnchor){var i=this,n=t.createRange(),o=e.getSelection();n.selectNodeContents(i.activeAnchor),o.removeAllRanges(),o.addRange(n),setTimeout(function(){i.activeAnchor&&i.showAnchorForm(i.activeAnchor.href),i.keepToolbarAlive=!1},100+i.options.delay)}this.hideAnchorPreview()},editorAnchorObserver:function(e){var t=this,i=!0,n=function(){i=!1,t.activeAnchor.removeEventListener("mouseout",n)};if(e.target&&"a"===e.target.tagName.toLowerCase()){if(!/href=["']\S+["']/.test(e.target.outerHTML)||/href=["']#\S+["']/.test(e.target.outerHTML))return!0;if(this.toolbar.classList.contains("medium-editor-toolbar-active"))return!0;this.activeAnchor=e.target,this.activeAnchor.addEventListener("mouseout",n),setTimeout(function(){i&&t.showAnchorPreview(e.target)},t.options.delay)}},bindAnchorPreview:function(){var e,t=this;for(this.editorAnchorObserverWrapper=function(e){t.editorAnchorObserver(e)},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("mouseover",this.editorAnchorObserverWrapper);return this},checkLinkFormat:function(e){var t=/^https?:\/\//;return e.match(t)?e:"http://"+e},setTargetBlank:function(){var e,t=r();if("a"===t.tagName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),e=0;e<t.length;e+=1)t[e].target="_blank"},createLink:function(e){return 0===e.value.trim().length?void this.hideToolbarActions():(o(this.savedSelection),this.options.checkLinkFormat&&(e.value=this.checkLinkFormat(e.value)),t.execCommand("createLink",!1,e.value),this.options.targetBlank&&this.setTargetBlank(),this.checkSelection(),this.showToolbarActions(),void(e.value=""))},bindWindowActions:function(){var t,i=this;return this.windowResizeHandler=function(){clearTimeout(t),t=setTimeout(function(){i.toolbar&&i.toolbar.classList.contains("medium-editor-toolbar-active")&&i.setToolbarPosition()},100)},e.addEventListener("resize",this.windowResizeHandler),this},activate:function(){this.isActive||this.setup()},deactivate:function(){var i;if(this.isActive)for(this.isActive=!1,void 0!==this.toolbar&&(this.options.elementsContainer.removeChild(this.anchorPreview),this.options.elementsContainer.removeChild(this.toolbar),delete this.toolbar,delete this.anchorPreview),t.documentElement.removeEventListener("mouseup",this.checkSelectionWrapper),e.removeEventListener("resize",this.windowResizeHandler),i=0;i<this.elements.length;i+=1)this.elements[i].removeEventListener("mouseover",this.editorAnchorObserverWrapper),this.elements[i].removeEventListener("keyup",this.checkSelectionWrapper),this.elements[i].removeEventListener("blur",this.checkSelectionWrapper),this.elements[i].removeEventListener("paste",this.pasteWrapper),this.elements[i].removeAttribute("contentEditable"),this.elements[i].removeAttribute("data-medium-element")},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},bindPaste:function(){var e,i=this;for(this.pasteWrapper=function(e){var n,o,r="";if(this.classList.remove("medium-editor-placeholder"),!i.options.forcePlainText&&!i.options.cleanPastedHTML)return this;if(e.clipboardData&&e.clipboardData.getData&&!e.defaultPrevented){if(e.preventDefault(),i.options.cleanPastedHTML&&e.clipboardData.getData("text/html"))return i.cleanPaste(e.clipboardData.getData("text/html"));if(i.options.disableReturn||this.getAttribute("data-disable-return"))t.execCommand("insertHTML",!1,e.clipboardData.getData("text/plain"));else{for(n=e.clipboardData.getData("text/plain").split(/[\r\n]/g),o=0;o<n.length;o+=1)""!==n[o]&&(r+=navigator.userAgent.match(/firefox/i)&&0===o?i.htmlEntities(n[o]):"<p>"+i.htmlEntities(n[o])+"</p>");t.execCommand("insertHTML",!1,r)}}},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("paste",this.pasteWrapper);return this},cleanPaste:function(e){var i,n,o,r=this.getSelectionElement(),a=/<p|<br|<div/.test(e),s=[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi),'<a href="$2">']];for(i=0;i<s.length;i+=1)e=e.replace(s[i][0],s[i][1]);if(a)for(n=e.split("<br><br>"),this.pasteHTML("<p>"+n.join("</p><p>")+"</p>"),t.execCommand("insertText",!1,"\n"),n=r.querySelectorAll("p,div,br"),i=0;i<n.length;i+=1)switch(o=n[i],o.tagName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(o);break;case"br":this.filterLineBreak(o)}else this.pasteHTML(e)},pasteHTML:function(e){var i,n,o,r,a=t.createDocumentFragment();for(a.appendChild(t.createElement("body")),r=a.querySelector("body"),r.innerHTML=e,this.cleanupSpans(r),i=r.querySelectorAll("*"),o=0;o<i.length;o+=1)n=i[o],n.removeAttribute("class"),n.removeAttribute("style"),n.removeAttribute("dir"),"meta"===n.tagName.toLowerCase()&&n.parentNode.removeChild(n);t.execCommand("insertHTML",!1,r.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.innerText)&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?e.parentNode.removeChild(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?1===e.parentNode.childElementCount&&this.removeWithParent(e):e.parentNode.removeChild(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e.parentNode))},cleanupSpans:function(e){var i,n,o,r=e.querySelectorAll(".replace-with");for(i=0;i<r.length;i+=1)n=r[i],o=t.createElement(n.classList.contains("bold")?"b":"i"),o.innerHTML=n.classList.contains("bold")&&n.classList.contains("italic")?"<i>"+n.innerHTML+"</i>":n.innerHTML,n.parentNode.replaceChild(o,n);for(r=e.querySelectorAll("span"),i=0;i<r.length;i+=1)n=r[i],/^\s*$/.test()?n.parentNode.removeChild(n):n.parentNode.replaceChild(t.createTextNode(n.innerText),n)}}}(window,document);
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var s,n,l=this;if(l.defaults={accessibility:!0,appendArrows:i(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" class="slick-prev">Previous</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(i,e){return'<button type="button">'+(e+1)+"</button>"},dots:!1,draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1},l.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},i.extend(l,l.initials),l.activeBreakpoint=null,l.animType=null,l.animProp=null,l.breakpoints=[],l.breakpointSettings=[],l.cssTransitions=!1,l.paused=!1,l.positionProp=null,l.$slider=i(e),l.$slidesCache=null,l.transformType=null,l.transitionType=null,l.windowWidth=0,l.windowTimer=null,l.options=i.extend({},l.defaults,o),l.originalSettings=l.options,s=l.options.responsive||null,s&&s.length>-1){for(n in s)s.hasOwnProperty(n)&&(l.breakpoints.push(s[n].breakpoint),l.breakpointSettings[s[n].breakpoint]=s[n].settings);l.breakpoints.sort(function(i,e){return e-i})}l.autoPlay=i.proxy(l.autoPlay,l),l.autoPlayClear=i.proxy(l.autoPlayClear,l),l.changeSlide=i.proxy(l.changeSlide,l),l.selectHandler=i.proxy(l.selectHandler,l),l.setPosition=i.proxy(l.setPosition,l),l.swipeHandler=i.proxy(l.swipeHandler,l),l.dragHandler=i.proxy(l.dragHandler,l),l.keyHandler=i.proxy(l.keyHandler,l),l.autoPlayIterator=i.proxy(l.autoPlayIterator,l),l.instanceUid=t++,l.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,l.init()}var t=0;return e}(),e.prototype.addSlide=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(0>t||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).remove(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateSlide=function(e,t){var o={},s=this;s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){s.options.vertical===!1?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}}):(s.applyTransition(),o[s.animType]=s.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.applyTransition=function(i){var e=this,t={};t[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer),i.slideCount>i.options.slidesToShow&&i.paused!==!0&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var e=this,t=null!=e.options.asNavFor?i(e.options.asNavFor).getSlick():null;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide-t.options.slidesToScroll)):(e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide+t.options.slidesToScroll))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=i(e.options.prevArrow),e.$nextArrow=i(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(t='<ul class="slick-dots">',e=0;e<=o.getDotCount();e+=1)t+="<li>"+o.options.customPaging.call(this,o,e)+"</li>";t+="</ul>",o.$dots=i(t).appendTo(o.$slider),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),e.options.centerMode===!0&&(e.options.slidesToScroll=1,e.options.slidesToShow%2===0&&(e.options.slidesToShow=3)),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.checkResponsive=function(){var e,t,o=this;if(o.originalSettings.responsive&&o.originalSettings.responsive.length>-1&&null!==o.originalSettings.responsive){t=null;for(e in o.breakpoints)o.breakpoints.hasOwnProperty(e)&&i(window).width()<o.breakpoints[e]&&(t=o.breakpoints[e]);null!==t?null!==o.activeBreakpoint?t!==o.activeBreakpoint&&(o.activeBreakpoint=t,o.options=i.extend({},o.options,o.breakpointSettings[t]),o.refresh()):(o.activeBreakpoint=t,o.options=i.extend({},o.options,o.breakpointSettings[t]),o.refresh()):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=i.extend({},o.options,o.originalSettings),o.refresh())}},e.prototype.changeSlide=function(e){var t=this,o=i(e.target),s=null!=t.options.asNavFor?i(t.options.asNavFor).getSlick():null;switch(o.is("a")&&e.preventDefault(),e.data.message){case"previous":t.slideCount>t.options.slidesToShow&&(t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide-s.options.slidesToScroll));break;case"next":t.slideCount>t.options.slidesToShow&&(t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide+s.options.slidesToScroll));break;case"index":var n=i(e.target).parent().index()*t.options.slidesToScroll;t.slideHandler(n),null!=s&&s.slideHandler(n);break;default:return!1}},e.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.parent().hasClass("slick-track")&&e.$slides.unwrap().unwrap(),e.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style"),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),i(window).off(".slick-"+e.instanceUid)},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:1e3}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.filterSlides=function(i){var e=this;null!==i&&(e.unload(),e.$slideTrack.children(this.options.slide).remove(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i,e=this,t=0,o=0,s=0;for(i=e.options.infinite===!0?e.slideCount+e.options.slidesToShow-e.options.slidesToScroll:e.slideCount;i>t;)s++,o+=e.options.slidesToScroll,t=o+e.options.slidesToShow;return s},e.prototype.getLeft=function(i){var e,t,o=this,s=0;return o.slideOffset=0,t=o.$slides.first().outerHeight(),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,s=t*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!==0&&i+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideCount%o.options.slidesToShow*o.slideWidth*-1,s=o.slideCount%o.options.slidesToShow*t*-1)):o.slideCount%o.options.slidesToShow!==0&&i+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.options.slidesToShow*o.slideWidth-o.slideCount%o.options.slidesToShow*o.slideWidth,s=o.slideCount%o.options.slidesToShow*t),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=o.options.vertical===!1?i*o.slideWidth*-1+o.slideOffset:i*t*-1+s},e.prototype.init=function(){var e=this;i(e.$slider).hasClass("slick-initialized")||(i(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.checkResponsive()),null!==e.options.onInit&&e.options.onInit.call(this,e)},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.on("click.slick",{message:"next"},i.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&i("li",e.$dots).on("mouseenter.slick",e.autoPlayClear).on("mouseleave.slick",e.autoPlay)},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.options.pauseOnHover===!0&&e.options.autoplay===!0&&(e.$list.on("mouseenter.slick",e.autoPlayClear),e.$list.on("mouseleave.slick",e.autoPlay)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),i(window).on("resize.slick.slick-"+e.instanceUid,function(){i(window).width!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.setPosition()},50))}),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show(),i.options.autoplay===!0&&i.autoPlay()},e.prototype.keyHandler=function(i){var e=this;37===i.keyCode?e.changeSlide({data:{message:"previous"}}):39===i.keyCode&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy");e.css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading").load(function(){e.animate({opacity:1},200)})})}var t,o,s,n,l=this;l.options.centerMode===!0||l.options.fade===!0?(s=l.options.slidesToShow+l.currentSlide-1,n=s+l.options.slidesToShow+2):(s=l.options.infinite?l.options.slidesToShow+l.currentSlide:l.currentSlide,n=s+l.options.slidesToShow),t=l.$slider.find(".slick-slide").slice(s,n),e(t),1==l.slideCount?(o=l.$slider.find(".slick-slide"),e(o)):l.currentSlide>=l.slideCount-l.options.slidesToShow?(o=l.$slider.find(".slick-cloned").slice(0,l.options.slidesToShow),e(o)):0===l.currentSlide&&(o=l.$slider.find(".slick-cloned").slice(-1*l.options.slidesToShow),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.postSlide=function(i){var e=this;null!==e.options.onAfterChange&&e.options.onAfterChange.call(this,e,i),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.progressiveLazyLoad=function(){var e,t,o=this;e=i("img[data-lazy]").length,e>0&&(t=i("img[data-lazy]",o.$slider).first(),t.attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),o.progressiveLazyLoad()}))},e.prototype.refresh=function(){var e=this,t=e.currentSlide;e.destroy(),i.extend(e,e.initials),e.currentSlide=t,e.init()},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&i(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},e.prototype.removeSlide=function(i,e){var t=this;return"boolean"==typeof i?(e=i,i=e===!0?0:t.slideCount-1):i=e===!0?--i:i,t.slideCount<1||0>i||i>t.slideCount-1?!1:(t.unload(),t.$slideTrack.children(this.options.slide).eq(i).remove(),t.$slides=t.$slideTrack.children(this.options.slide),t.$slideTrack.children(this.options.slide).remove(),t.$slideTrack.append(t.$slides),t.$slidesCache=t.$slides,void t.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};e="left"==o.positionProp?i+"px":"0px",t="top"==o.positionProp?i+"px":"0px",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;i.$slideTrack.children(".slick-slide").width(i.options.centerMode===!0?i.slideWidth:i.slideWidth),i.options.vertical===!1?(i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length)),i.options.centerMode===!0&&i.$list.css({padding:"0px "+i.options.centerPadding})):(i.$list.height(i.$slides.first().outerHeight()*i.options.slidesToShow),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight()*i.$slideTrack.children(".slick-slide").length)),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+" 0px"}))},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,i(s).css({position:"relative",left:e,top:0,zIndex:800,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setPosition=function(){var i=this;i.setValues(),i.setDimensions(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade()},e.prototype.setProps=function(){var i=this;i.positionProp=i.options.vertical===!0?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),(void 0!==document.body.style.WebkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition)&&i.options.useCSS===!0&&(i.cssTransitions=!0),void 0!==document.body.style.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition"),void 0!==document.body.style.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition"),void 0!==document.body.style.msTransform&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=null!==i.animType},e.prototype.setValues=function(){var i=this;i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.slideWidth=Math.ceil(i.options.vertical===!1?i.listWidth/i.options.slidesToShow:i.listWidth)},e.prototype.setSlideClasses=function(i){var e,t,o,s=this;s.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),t=s.$slider.find(".slick-slide"),s.options.centerMode===!0?(e=Math.floor(s.options.slidesToShow/2),s.options.infinite===!0&&(i>=e&&i<=s.slideCount-1-e?s.$slides.slice(i-e,i+e+1).addClass("slick-active"):(o=s.options.slidesToShow+i,t.slice(o-e+1,o+e+2).addClass("slick-active")),0===i?t.eq(t.length-1-s.options.slidesToShow).addClass("slick-center"):i===s.slideCount-1&&t.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(i).addClass("slick-center")):i>0&&i<s.slideCount-s.options.slidesToShow?s.$slides.slice(i,i+s.options.slidesToShow).addClass("slick-active"):t.length<=s.options.slidesToShow?t.addClass("slick-active"):(o=s.options.infinite===!0?s.options.slidesToShow+i:i,t.slice(o,o+s.options.slidesToShow).addClass("slick-active")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if((s.options.fade===!0||s.options.vertical===!0)&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone().attr("id","").prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;o>e;e+=1)t=e,i(s.$slides[t]).clone().attr("id","").appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.selectHandler=function(e){var t=this,o=null!=t.options.asNavFor?i(t.options.asNavFor).getSlick():null,s=parseInt(i(e.target).parent().attr("index"));if(s||(s=0),!(t.slideCount<=t.options.slidesToShow)&&(t.slideHandler(s),null!=o)){if(o.slideCount<=o.options.slidesToShow)return;o.slideHandler(s)}},e.prototype.slideHandler=function(i){var e,t,o,s,n=null,l=this;return l.animating===!0?!1:(e=i,n=l.getLeft(e),o=l.getLeft(l.currentSlide),s=l.slideCount%l.options.slidesToScroll!==0?l.options.slidesToScroll:0,l.currentLeft=null===l.swipeLeft?o:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>i||i>l.slideCount-l.options.slidesToShow+s)?(l.options.fade===!1&&(e=l.currentSlide,l.animateSlide(o,function(){l.postSlide(e)})),!1):l.options.infinite===!1&&l.options.centerMode===!0&&(0>i||i>l.slideCount-l.options.slidesToScroll)?(l.options.fade===!1&&(e=l.currentSlide,l.animateSlide(o,function(){l.postSlide(e)})),!1):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),t=0>e?l.slideCount%l.options.slidesToScroll!==0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount-l.options.slidesToScroll:e>l.slideCount-1?0:e,l.animating=!0,null!==l.options.onBeforeChange&&i!==l.currentSlide&&l.options.onBeforeChange.call(this,l,l.currentSlide,t),l.currentSlide=t,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(l.fadeSlide(t,function(){l.postSlide(t)}),!1):void l.animateSlide(n,function(){l.postSlide(t)})))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),0>o&&(o=360-Math.abs(o)),45>=o&&o>=0?"left":360>=o&&o>=315?"left":o>=135&&225>=o?"right":"vertical"},e.prototype.swipeEnd=function(e){var t=this,o=null!=t.options.asNavFor?i(t.options.asNavFor).getSlick():null;if(t.dragging=!1,void 0===t.touchObject.curX)return!1;if(t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(i(e.target).on("click.slick",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i(e.target).off("click.slick")}),t.swipeDirection()){case"left":t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide+o.options.slidesToScroll),t.touchObject={};break;case"right":t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide-o.options.slidesToScroll),t.touchObject={}}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),null!=o&&o.slideHandler(o.currentSlide),t.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1||e.options.draggable===!1&&!i.originalEvent.touches))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n=this;return s=void 0!==i.originalEvent?i.originalEvent.touches:null,e=n.getLeft(n.currentSlide),!n.dragging||s&&1!==s.length?!1:(n.touchObject.curX=void 0!==s?s[0].pageX:i.clientX,n.touchObject.curY=void 0!==s?s[0].pageY:i.clientY,n.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(n.touchObject.curX-n.touchObject.startX,2))),t=n.swipeDirection(),"vertical"!==t?(void 0!==i.originalEvent&&n.touchObject.swipeLength>4&&i.preventDefault(),o=n.touchObject.curX>n.touchObject.startX?1:-1,n.swipeLeft=n.options.vertical===!1?e+n.touchObject.swipeLength*o:e+n.touchObject.swipeLength*(n.$list.height()/n.listWidth)*o,n.options.fade===!0||n.options.touchMove===!1?!1:n.animating===!0?(n.swipeLeft=null,!1):void n.setCSS(n.swipeLeft)):void 0)},e.prototype.swipeStart=function(i){var e,t=this;return 1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).remove(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style")},e.prototype.updateArrows=function(){var i=this;i.options.arrows===!0&&i.options.infinite!==!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.removeClass("slick-disabled"),i.$nextArrow.removeClass("slick-disabled"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled"),i.$nextArrow.removeClass("slick-disabled")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&(i.$nextArrow.addClass("slick-disabled"),i.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active"),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},i.fn.slick=function(i){var t=this;return t.each(function(t,o){o.slick=new e(o,i)})},i.fn.slickAdd=function(i,e,t){var o=this;return o.each(function(o,s){s.slick.addSlide(i,e,t)})},i.fn.slickCurrentSlide=function(){var i=this;return i.get(0).slick.getCurrent()},i.fn.slickFilter=function(i){var e=this;return e.each(function(e,t){t.slick.filterSlides(i)})},i.fn.slickGoTo=function(e){var t=this;return t.each(function(t,o){var s=null!=o.slick.options.asNavFor?i(o.slick.options.asNavFor):null;null!=s&&s.slickGoTo(e),o.slick.slideHandler(e)})},i.fn.slickNext=function(){var i=this;return i.each(function(i,e){e.slick.changeSlide({data:{message:"next"}})})},i.fn.slickPause=function(){var i=this;return i.each(function(i,e){e.slick.autoPlayClear(),e.slick.paused=!0})},i.fn.slickPlay=function(){var i=this;return i.each(function(i,e){e.slick.paused=!1,e.slick.autoPlay()})},i.fn.slickPrev=function(){var i=this;return i.each(function(i,e){e.slick.changeSlide({data:{message:"previous"}})})},i.fn.slickRemove=function(i,e){var t=this;return t.each(function(t,o){o.slick.removeSlide(i,e)})},i.fn.slickGetOption=function(i){var e=this;return e.get(0).slick.options[i]},i.fn.slickSetOption=function(i,e,t){var o=this;return o.each(function(o,s){s.slick.options[i]=e,t===!0&&(s.slick.unload(),s.slick.reinit())})},i.fn.slickUnfilter=function(){var i=this;return i.each(function(i,e){e.slick.unfilterSlides()})},i.fn.unslick=function(){var i=this;return i.each(function(i,e){e.slick&&e.slick.destroy()})},i.fn.getSlick=function(){var i=null,e=this;return e.each(function(e,t){i=t.slick}),i}});
app.directive("contenteditable",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,n){function o(){var e=t.html();r.stripBr&&"<br>"==e&&(e=""),n.$setViewValue(e)}n&&(n.$render=function(){t.html(n.$viewValue)},t.on("blur keyup change input",function(){e.$apply(o)}),o())}}}),app.directive("num-binding",function(){return{restrict:"A",require:"ngModel",scope:{model:"=ngModel"},link:function(e){e.model&&"string"==typeof e.model&&(e.model=parseInt(e.model))}}}),app.directive("sailrFooter",["$document","$window",function(e,t){return{scope:!1,link:function(e,r){var n=function(){var e=document.body.scrollHeight|document.body.clientHeight>t.innerHeight,n=t.document.body.scrollHeight,o=n+"px";r.css(e?{position:"relative",top:"100%"}:{position:"absolute",top:o})};n(),e.$watch(t.innerHeight,function(){n()})}}}]),app.directive("sailrOpactiy",function(){function e(e,t,r){e.sailrOpacity=r.sailrOpacity,t.css({opacity:e.sailrOpacity})}return{restrict:"A",scope:{sailrOpacity:"@"},link:e}}),app.directive("sailrComments",function(){return{restrict:"AE",require:"^sailrProductId",scope:{sailrProductId:"@"},controller:["$scope","$http","CommentsFactory",function(e,t,r){e.comments=[],e.commentOpacity=1,e.webError=!1,e.newComment={},e.loggedInUser=loggedInUser,e.item_id=0,e.getComments=function(t){e.item_id=t;var n=r.getComments(e.item_id);n.then(function(t){e.comments=t.data},function(t){console.log(t),e.webError=!0})},e.postNewComment=function(){var t=e.comments.unshift({item_id:e.item_id,comment:e.newComment.comment,created_at:new Date,user:loggedInUser}),n=r.postNewComment(e.newComment.comment,e.item_id);console.log(r),console.log(n),n.then(function(t){console.log(t),e.newComment.comment=""},function(r){console.log(r),e.comments=e.comments.splice(1,t)})}}],templateUrl:baseURL+"/js/templates/comments/master.html",link:function(e,t,r){e.getComments(r.sailrProductId),e.item_id=r.sailrProductId}}}),app.directive("sailrProductId",function(){return{controller:["$scope",function(){}]}}),app.directive("sailrComment",function(){return{restrict:"AE",scope:{profileImageUrl:"@",username:"@",name:"@",commentText:"@"},controller:["$scope",function(){}],link:function(e,t,r){e.username=r.username,e.name=r.name,e.profileImageUrl=r.profileImageUrl,e.commentText=r.commentText,e.baseURL=baseURL},templateUrl:baseURL+"/js/templates/comments/comment-item.html"}}),app.directive("sailrEntityLink",function(){return{priority:-1,restrict:"AE",scope:!1,link:function(e,t,r){e.$watch(r.sailrEntityLink,function(){var e=t.html();t.html(twttr.txt.autoLink(e))})}}}),app.directive("sailrFeedOnboardBox",function(){return{restrict:"E",scope:!1,templateUrl:baseURL+"/js/templates/onboard/feed/onboard-box.html"}}),app.directive("sailrNumberOfProducts",function(){return{restrict:"A",controller:["$scope",function(){}]}}),app.directive("sailrOffsetBy",function(){return{restrict:"A",controller:["$scope",function(){}]}}),app.directive("sailrProductPreview",function(){return{restrict:"AE",scope:{productTitle:"@",productPreviewImageUrl:"@",productLinkUrl:"@",productSellerUsername:"@",productSellerName:"@",productSellerUrl:"@"},templateUrl:baseURL+"/js/templates/onboard/recent/products/product-preview.html"}}),app.directive("sailrRecentProducts",function(){return{restrict:"AE",require:["sailrNumberOfProducts","sailrOffsetBy"],scope:{sailrNumberOfProducts:"@",sailrOffsetBy:"@"},controller:["$scope","$http","OnboardFactory",function(e,t,r){e.baseURL=baseURL,e.products=[],e.initialValue=0,e.getProducts=function(t,n){r.getRecentProducts(t,n).success(function(t){angular.forEach(t,function(t){e.products.push(t)})}).error(function(){e.webError=!0})}}],templateUrl:baseURL+"/js/templates/onboard/recent/products/master.html",link:function(e,t,r){var n=function(t,r){return e.getProducts(r,t),!0};e.$watch(function(){return[r.sailrNumberOfProducts,r.sailrOffsetBy]},function(){n(e.sailrNumberOfProducts,e.sailrOffsetBy)},!0)}}}),app.directive("focusMe",["$timeout","$parse",function(e,t){return{link:function(r,n,o){var i=t(o.focusMe);r.$watch(i,function(t){console.log("value=",t),t===!0&&e(function(){n[0].focus()})})}}}]),app.directive("imgGallery",function(){return{restrict:"C",scope:!1,link:function(e,t){$(document).ready(function(){t.slick({dots:!0,arrows:!1})})}}});
app.factory("OnboardFactory",["$http",function(e){var r={};return r.getRecentProducts=function(r,t){console.log("OFFSET IS ::"+r),console.log("LIMIT IS:: "+t);var o=baseURL+"/onboard/recent/products/"+r+"/"+t;return e.get(o)},r}]),app.factory("StripeFactory",["$q",function(e){var r={};return r.sayHello=function(){return"HELLO FROM STRIPE FACTORY"},r.setPublishableKey=function(e){Stripe.setPublishableKey(e)},r.createToken=function(t){var o=e.defer();return Stripe.card.createToken(t,function(e,t){t.error?(r.errors=t.error,o.reject(t)):(r.token=t,o.resolve(t))}),o.promise},r.getToken=function(){return r.token},r.getErrors=function(){return r.errors},r}]),app.factory("HelperFactory",function(){var e={};return e.stripWhiteSpace=function(e){return e=e.replace(/\s/g,"")},e.createStripeCardObjectFromFormattedInput=function(r){var t={},o=e.stripWhiteSpace(r.expiry).split("/");return t={number:e.stripWhiteSpace(r.number),cvc:e.stripWhiteSpace(r.cvc),exp_month:o[0],exp_year:o[1]},"undefined"!=typeof r.name&&r.name.length>0&&(t.name=r.name),t},e}),app.factory("SubscriptionFactory",["$q","$rootScope","$http",function(e,r,t){var o={};return o.subscriptionURL=baseURL+"/settings/subscription",console.log("SUBSCRIPTION URL:: "+o.subscriptionURL),o.sayHello=function(){return"HELLO FROM STRIPE FACTORY"},o.createSubscription=function(r,n,c){var s={_token:csrfToken,stripeToken:n,plan:"awesome"};"undefined"!=typeof c&&c.length>0&&(s.coupon=c);var i=e.defer();return t.post(o.subscriptionURL,s).success(function(e){i.resolve(e)}).error(function(e,r,t,o){var n={data:e,status:r,headers:t,config:o};i.reject(n)}),i.promise},o.cancelSubscription=function(){var r={_token:csrfToken},n=e.defer();return t.post(o.subscriptionURL+"/delete",r).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},o}]),app.factory("CommentsFactory",["$q","$http",function(e,r){var t={};return t.sayHello=function(){return console.log("Hello from CommentsFactory"),"Hello from CommentFactory"},t.postNewComment=function(t,o){console.log("Add new comment function called");var n={_token:csrfToken,comment:t,item_id:o},c=e.defer();return console.log("BASE URL:: "+baseURL),console.log(n),r.post(baseURL+"/comments",n).success(function(e){c.resolve(e)}).error(function(e){c.reject(e)}),c.promise},t.getComments=function(t){var o=e.defer();return r.get(baseURL+"/username/product/"+t+"/comments").success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise},t}]);
var sailrUrls={hashtagBase:"http://sailr.co/s/%23",cashtagBase:"http://sailr.co/s/%24",usernameBase:"http://sailr.co/"},sailrClasses={cashtagClass:"sailr cashtag-link",hashtagClass:"sailr hashtag-link",usernameClass:"sailr username-link"};!function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var a=i.txt.regexen[e]||"";return"string"!=typeof a&&(a=a.source),a}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,a){return e[a]||""})}function a(t,e,a){var r=String.fromCharCode(e);return a!==e&&(r+="-"+String.fromCharCode(a)),t.push(r),t}function r(t){var e={};for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function n(t,e,a){return a?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if("undefined"==typeof i||null===i)var i={};i.txt={},i.txt.regexen={};var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};i.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return s[t]})},i.txt.regexSupplant=t,i.txt.stringSupplant=e,i.txt.addCharsToCharClass=a;var l=String.fromCharCode,o=[l(32),l(133),l(160),l(5760),l(6158),l(8232),l(8233),l(8239),l(8287),l(12288)];a(o,9,13),a(o,8192,8202);var c=[l(65534),l(65279),l(65535)];a(c,8234,8238),i.txt.regexen.spaces_group=t(o.join("")),i.txt.regexen.spaces=t("["+o.join("")+"]"),i.txt.regexen.invalid_chars_group=t(c.join("")),i.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,i.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,i.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var h=[];a(h,1024,1279),a(h,1280,1319),a(h,11744,11775),a(h,42560,42655),a(h,1425,1471),a(h,1473,1474),a(h,1476,1477),a(h,1479,1479),a(h,1488,1514),a(h,1520,1524),a(h,64274,64296),a(h,64298,64310),a(h,64312,64316),a(h,64318,64318),a(h,64320,64321),a(h,64323,64324),a(h,64326,64335),a(h,1552,1562),a(h,1568,1631),a(h,1646,1747),a(h,1749,1756),a(h,1758,1768),a(h,1770,1775),a(h,1786,1788),a(h,1791,1791),a(h,1872,1919),a(h,2208,2208),a(h,2210,2220),a(h,2276,2302),a(h,64336,64433),a(h,64467,64829),a(h,64848,64911),a(h,64914,64967),a(h,65008,65019),a(h,65136,65140),a(h,65142,65276),a(h,8204,8204),a(h,3585,3642),a(h,3648,3662),a(h,4352,4607),a(h,12592,12677),a(h,43360,43391),a(h,44032,55215),a(h,55216,55295),a(h,65441,65500),a(h,12449,12538),a(h,12540,12542),a(h,65382,65439),a(h,65392,65392),a(h,65296,65305),a(h,65313,65338),a(h,65345,65370),a(h,12353,12438),a(h,12441,12446),a(h,13312,19903),a(h,19968,40959),a(h,173824,177983),a(h,177984,178207),a(h,194560,195103),a(h,12291,12291),a(h,12293,12293),a(h,12347,12347),i.txt.regexen.nonLatinHashtagChars=t(h.join(""));var g=[];a(g,192,214),a(g,216,246),a(g,248,255),a(g,256,591),a(g,595,596),a(g,598,599),a(g,601,601),a(g,603,603),a(g,611,611),a(g,616,616),a(g,623,623),a(g,626,626),a(g,649,649),a(g,651,651),a(g,699,699),a(g,768,879),a(g,7680,7935),i.txt.regexen.latinAccentChars=t(g.join("")),i.txt.regexen.hashSigns=/[#＃]/,i.txt.regexen.hashtagAlpha=t(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),i.txt.regexen.hashtagAlphaNumeric=t(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),i.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),i.txt.regexen.hashtagBoundary=t(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),i.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),i.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:rt|RT|rT|Rt):?)/,i.txt.regexen.atSigns=/[@＠]/,i.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),i.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),i.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),i.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,i.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",i.txt.regexen),i.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),i.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validGTLD=t(RegExp("(?:(?:academy|actor|aero|agency|arpa|asia|bar|bargains|berlin|best|bid|bike|biz|blue|boutique|build|builders|buzz|cab|camera|camp|cards|careers|cat|catering|center|ceo|cheap|christmas|cleaning|clothing|club|codes|coffee|com|community|company|computer|construction|contractors|cool|coop|cruises|dance|dating|democrat|diamonds|directory|domains|edu|education|email|enterprises|equipment|estate|events|expert|exposed|farm|fish|flights|florist|foundation|futbol|gallery|gift|glass|gov|graphics|guitars|guru|holdings|holiday|house|immobilien|industries|info|institute|int|international|jobs|kaufen|kim|kitchen|kiwi|koeln|kred|land|lighting|limo|link|luxury|management|mango|marketing|menu|mil|mobi|moda|monash|museum|nagoya|name|net|neustar|ninja|okinawa|onl|org|partners|parts|photo|photography|photos|pics|pink|plumbing|post|pro|productions|properties|pub|qpon|recipes|red|rentals|repair|report|reviews|rich|ruhr|sexy|shiksha|shoes|singles|social|solar|solutions|supplies|supply|support|systems|tattoo|technology|tel|tienda|tips|today|tokyo|tools|training|travel|uno|vacations|ventures|viajes|villas|vision|vote|voting|voto|voyage|wang|watch|wed|wien|wiki|works|xxx|xyz|zone|дети|онлайн|орг|сайт|بازار|شبكة|みんな|中信|中文网|公司|公益|在线|我爱你|政务|游戏|移动|网络|集团|삼성)(?=[^0-9a-zA-Z@]|$))")),i.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|мон|рф|срб|укр|қаз|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|香港|한국)(?=[^0-9a-zA-Z@]|$))")),i.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),i.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),i.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),i.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),i.txt.regexen.validPortNumber=t(/[0-9]+/),i.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),i.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),i.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),i.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),i.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,i.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,i.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),i.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,i.txt.regexen.urlHasProtocol=/^https?:\/\//i,i.txt.regexen.urlHasHttps=/^https:\/\//i,i.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,i.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),i.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,i.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,i.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,i.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),i.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,i.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),i.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,i.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),i.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,i.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),i.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),i.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),i.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),i.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),i.txt.regexen.validateUrlPort=/[0-9]{1,5}/,i.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),i.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),i.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),i.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),i.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),i.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var x="tweet-url list-slug",u={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},d={disabled:!0,readonly:!0,multiple:!0,checked:!0};i.txt.tagAttrs=function(t){var e="";for(var a in t){var r=t[a];d[a]&&(r=r?a:null),null!=r&&(e+=" "+i.txt.htmlEscape(a)+'="'+i.txt.htmlEscape(r.toString())+'"')}return e},i.txt.linkToText=function(t,a,r,n){n.suppressNoFollow||(r.rel="nofollow"),n.linkAttributeBlock&&n.linkAttributeBlock(t,r),n.linkTextBlock&&(a=n.linkTextBlock(t,a));var s={text:a,attr:i.txt.tagAttrs(r)};return e("<a#{attr}>#{text}</a>",s)},i.txt.linkToTextWithSymbol=function(t,e,a,r,n){var s=n.symbolTag?"<"+n.symbolTag+">"+e+"</"+n.symbolTag+">":e;a=i.txt.htmlEscape(a);var l=n.textWithSymbolTag?"<"+n.textWithSymbolTag+">"+a+"</"+n.textWithSymbolTag+">":a;return n.usernameIncludeSymbol||!e.match(i.txt.regexen.atSigns)?i.txt.linkToText(t,s+l,r,n):s+i.txt.linkToText(t,l,r,n)},i.txt.linkToHashtag=function(t,e,a){var n=e.substring(t.indices[0],t.indices[0]+1),s=i.txt.htmlEscape(t.hashtag),l=r(a.htmlAttrs||{});return l.href=a.hashtagUrlBase+s,l.title="#"+s,l["class"]=a.hashtagClass,s.charAt(0).match(i.txt.regexen.rtl_chars)&&(l["class"]+=" rtl"),a.targetBlank&&(l.target="_blank"),i.txt.linkToTextWithSymbol(t,n,s,l,a)},i.txt.linkToCashtag=function(t,e,a){var n=i.txt.htmlEscape(t.cashtag),s=r(a.htmlAttrs||{});return s.href=a.cashtagUrlBase+n,s.title="$"+n,s["class"]=a.cashtagClass,a.targetBlank&&(s.target="_blank"),i.txt.linkToTextWithSymbol(t,"$",n,s,a)},i.txt.linkToMentionAndList=function(t,e,a){var n=e.substring(t.indices[0],t.indices[0]+1),s=i.txt.htmlEscape(t.screenName),l=i.txt.htmlEscape(t.listSlug),o=t.listSlug&&!a.suppressLists,c=r(a.htmlAttrs||{});return c["class"]=o?a.listClass:a.usernameClass,c.href=o?a.listUrlBase+s+l:a.usernameUrlBase+s,o||a.suppressDataScreenName||(c["data-screen-name"]=s),a.targetBlank&&(c.target="_blank"),i.txt.linkToTextWithSymbol(t,n,o?s+l:s,c,a)},i.txt.linkToUrl=function(t,e,a){var n=t.url,s=n,l=i.txt.htmlEscape(s),o=a.urlEntities&&a.urlEntities[n]||t;o.display_url&&(l=i.txt.linkTextWithEntity(o,a));var c=r(a.htmlAttrs||{});return n.match(i.txt.regexen.urlHasProtocol)||(n="http://"+n),c.href=n,a.targetBlank&&(c.target="_blank"),a.urlClass&&(c["class"]=a.urlClass),a.urlTarget&&(c.target=a.urlTarget),!a.title&&o.display_url&&(c.title=o.expanded_url),i.txt.linkToText(t,l,c,a)},i.txt.linkTextWithEntity=function(t,a){var r=t.display_url,n=t.expanded_url,s=r.replace(/…/g,"");if(-1!=n.indexOf(s)){var l=n.indexOf(s),o={displayUrlSansEllipses:s,beforeDisplayUrl:n.substr(0,l),afterDisplayUrl:n.substr(l+s.length),precedingEllipsis:r.match(/^…/)?"…":"",followingEllipsis:r.match(/…$/)?"…":""};for(var c in o)o.hasOwnProperty(c)&&(o[c]=i.txt.htmlEscape(o[c]));return o.invisible=a.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",o)}return r},i.txt.autoLinkEntities=function(t,e,a){a=r(a||{}),a.hashtagClass=a.hashtagClass||sailrClasses.hashtagClass,a.hashtagUrlBase=a.hashtagUrlBase||sailrUrls.hashtagBase,a.cashtagClass=a.cashtagClass||sailrClasses.cashtagClass,a.cashtagUrlBase=a.cashtagUrlBase||sailrUrls.cashtagBase,a.listClass=a.listClass||x,a.usernameClass=a.usernameClass||sailrClasses.usernameClass,a.usernameUrlBase=a.usernameUrlBase||sailrUrls.usernameBase,a.listUrlBase=a.listUrlBase||"https://sailr.co/",a.htmlAttrs=i.txt.extractHtmlAttrsFromOptions(a),a.invisibleTagAttrs=a.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var n,s,l;if(a.urlEntities){for(n={},s=0,l=a.urlEntities.length;l>s;s++)n[a.urlEntities[s].url]=a.urlEntities[s];a.urlEntities=n}var o="",c=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var h=a.htmlEscapeNonEntities?i.txt.htmlEscape:function(t){return t},s=0;s<e.length;s++){var g=e[s];o+=h(t.substring(c,g.indices[0])),g.url?o+=i.txt.linkToUrl(g,t,a):g.hashtag?o+=i.txt.linkToHashtag(g,t,a):g.screenName?o+=i.txt.linkToMentionAndList(g,t,a):g.cashtag&&(o+=i.txt.linkToCashtag(g,t,a)),c=g.indices[1]}return o+=h(t.substring(c,t.length))},i.txt.autoLinkWithJSON=function(t,e,a){if(e.user_mentions)for(var r=0;r<e.user_mentions.length;r++)e.user_mentions[r].screenName=e.user_mentions[r].screen_name;if(e.hashtags)for(var r=0;r<e.hashtags.length;r++)e.hashtags[r].hashtag=e.hashtags[r].text;if(e.symbols)for(var r=0;r<e.symbols.length;r++)e.symbols[r].cashtag=e.symbols[r].text;var n=[];for(var s in e)n=n.concat(e[s]);return i.txt.modifyIndicesFromUnicodeToUTF16(t,n),i.txt.autoLinkEntities(t,n,a)},i.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var a in t){var r=t[a];u[a]||(d[a]&&(r=r?a:null),null!=r&&(e[a]=r))}return e},i.txt.autoLink=function(t,e){var a=i.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkUsernamesOrLists=function(t,e){var a=i.txt.extractMentionsOrListsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkHashtags=function(t,e){var a=i.txt.extractHashtagsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkCashtags=function(t,e){var a=i.txt.extractCashtagsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkUrlsCustom=function(t,e){var a=i.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return i.txt.autoLinkEntities(t,a,e)},i.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],a=1;a<t.length;a++)e.indices[1]>t[a].indices[0]?(t.splice(a,1),a--):e=t[a]},i.txt.extractEntitiesWithIndices=function(t,e){var a=i.txt.extractUrlsWithIndices(t,e).concat(i.txt.extractMentionsOrListsWithIndices(t)).concat(i.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(i.txt.extractCashtagsWithIndices(t));return 0==a.length?[]:(i.txt.removeOverlappingEntities(a),a)},i.txt.extractMentions=function(t){for(var e=[],a=i.txt.extractMentionsWithIndices(t),r=0;r<a.length;r++){var n=a[r].screenName;e.push(n)}return e},i.txt.extractMentionsWithIndices=function(t){for(var e,a=[],r=i.txt.extractMentionsOrListsWithIndices(t),n=0;n<r.length;n++)e=r[n],""==e.listSlug&&a.push({screenName:e.screenName,indices:e.indices});return a},i.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(i.txt.regexen.atSigns))return[];var e=[];return t.replace(i.txt.regexen.validMentionOrList,function(t,a,r,n,s,l,o){var c=o.slice(l+t.length);if(!c.match(i.txt.regexen.endMentionMatch)){s=s||"";var h=l+a.length,g=h+n.length+s.length+1;e.push({screenName:n,listSlug:s,indices:[h,g]})}}),e},i.txt.extractReplies=function(t){if(!t)return null;var e=t.match(i.txt.regexen.validReply);return!e||RegExp.rightContext.match(i.txt.regexen.endMentionMatch)?null:e[1]},i.txt.extractUrls=function(t,e){for(var a=[],r=i.txt.extractUrlsWithIndices(t,e),n=0;n<r.length;n++)a.push(r[n].url);return a},i.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var a=[];i.txt.regexen.extractUrl.exec(t);){var r=RegExp.$2,n=RegExp.$3,s=RegExp.$4,l=RegExp.$5,o=RegExp.$7,c=i.txt.regexen.extractUrl.lastIndex,h=c-n.length;if(s)n.match(i.txt.regexen.validTcoUrl)&&(n=RegExp.lastMatch,c=h+n.length),a.push({url:n,indices:[h,c]});else{if(!e.extractUrlsWithoutProtocol||r.match(i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var g=null,x=!1,u=0;if(l.replace(i.txt.regexen.validAsciiDomain,function(t){var e=l.indexOf(t,u);u=e+t.length,g={url:t,indices:[h+e,h+u]},x=t.match(i.txt.regexen.invalidShortDomain),x||a.push(g)}),null==g)continue;o&&(x&&a.push(g),g.url=n.replace(l,g.url),g.indices[1]=c)}}return a},i.txt.extractHashtags=function(t){for(var e=[],a=i.txt.extractHashtagsWithIndices(t),r=0;r<a.length;r++)e.push(a[r].hashtag);return e},i.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(i.txt.regexen.hashSigns))return[];var a=[];if(t.replace(i.txt.regexen.validHashtag,function(t,e,r,n,s,l){var o=l.slice(s+t.length);if(!o.match(i.txt.regexen.endHashtagMatch)){var c=s+e.length,h=c+n.length+1;a.push({hashtag:n,indices:[c,h]})}}),e.checkUrlOverlap){var r=i.txt.extractUrlsWithIndices(t);if(r.length>0){var n=a.concat(r);i.txt.removeOverlappingEntities(n),a=[];for(var s=0;s<n.length;s++)n[s].hashtag&&a.push(n[s])}}return a},i.txt.extractCashtags=function(t){for(var e=[],a=i.txt.extractCashtagsWithIndices(t),r=0;r<a.length;r++)e.push(a[r].cashtag);return e},i.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(i.txt.regexen.validCashtag,function(t,a,r,n,i){var s=i+a.length,l=s+n.length+1;e.push({cashtag:n,indices:[s,l]})}),e},i.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){i.txt.convertUnicodeIndices(t,e,!1)},i.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){i.txt.convertUnicodeIndices(t,e,!0)},i.txt.getUnicodeTextLength=function(t){return t.replace(i.txt.regexen.non_bmp_code_pairs," ").length},i.txt.convertUnicodeIndices=function(t,e,a){if(0!=e.length){var r=0,n=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var i=0,s=e[0];r<t.length;){if(s.indices[0]==(a?r:n)){var l=s.indices[1]-s.indices[0];if(s.indices[0]=a?n:r,s.indices[1]=s.indices[0]+l,i++,i==e.length)break;s=e[i]}var o=t.charCodeAt(r);o>=55296&&56319>=o&&r<t.length-1&&(o=t.charCodeAt(r+1),o>=56320&&57343>=o&&r++),n++,r++}}},i.txt.splitTags=function(t){for(var e,a,r=t.split("<"),n=[],i=0;i<r.length;i+=1)if(a=r[i]){e=a.split(">");for(var s=0;s<e.length;s+=1)n.push(e[s])}else n.push("");return n},i.txt.hitHighlight=function(t,e,a){var r="em";if(e=e||[],a=a||{},0===e.length)return t;var n,s,l,o,c,h,g,x=a.tag||r,u=["<"+x+">","</"+x+">"],d=i.txt.splitTags(t),v="",m=0,p=d[0],f=0,U=0,b=!1,C=p,k=[];for(n=0;n<e.length;n+=1)for(s=0;s<e[n].length;s+=1)k.push(e[n][s]);for(l=0;l<k.length;l+=1){for(o=k[l],c=u[l%2],h=!1;null!=p&&o>=f+p.length;)v+=C.slice(U),b&&o===f+C.length&&(v+=c,h=!0),d[m+1]&&(v+="<"+d[m+1]+">"),f+=C.length,U=0,m+=2,p=d[m],C=p,b=!1;h||null==p?h||(h=!0,v+=c):(g=o-f,v+=C.slice(U,g)+c,U=g,b=l%2===0?!0:!1)}if(null!=p)for(U<C.length&&(v+=C.slice(U)),l=m+1;l<d.length;l+=1)v+=l%2===0?d[l]:"<"+d[l]+">";return v};var v=140,m=[l(65534),l(65279),l(65535),l(8234),l(8235),l(8236),l(8237),l(8238)];i.txt.getTweetLength=function(t,e){e||(e={short_url_length:22,short_url_length_https:23});var a=i.txt.getUnicodeTextLength(t),r=i.txt.extractUrlsWithIndices(t);i.txt.modifyIndicesFromUTF16ToUnicode(t,r);for(var n=0;n<r.length;n++)a+=r[n].indices[0]-r[n].indices[1],a+=r[n].url.toLowerCase().match(i.txt.regexen.urlHasHttps)?e.short_url_length_https:e.short_url_length;return a},i.txt.isInvalidTweet=function(t){if(!t)return"empty";if(i.txt.getTweetLength(t)>v)return"too_long";for(var e=0;e<m.length;e++)if(t.indexOf(m[e])>=0)return"invalid_characters";return!1},i.txt.isValidTweetText=function(t){return!i.txt.isInvalidTweet(t)},i.txt.isValidUsername=function(t){if(!t)return!1;var e=i.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var p=t(/^#{validMentionOrList}$/);if(i.txt.isValidList=function(t){var e=t.match(p);return!(!e||""!=e[1]||!e[4])},i.txt.isValidHashtag=function(t){if(!t)return!1;var e=i.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},i.txt.isValidUrl=function(t,e,a){if(null==e&&(e=!0),null==a&&(a=!0),!t)return!1;var r=t.match(i.txt.regexen.validateUrlUnencoded);if(!r||r[0]!==t)return!1;var s=r[1],l=r[2],o=r[3],c=r[4],h=r[5];return(!a||n(s,i.txt.regexen.validateUrlScheme)&&s.match(/^https?$/i))&&n(o,i.txt.regexen.validateUrlPath)&&n(c,i.txt.regexen.validateUrlQuery,!0)&&n(h,i.txt.regexen.validateUrlFragment,!0)?e&&n(l,i.txt.regexen.validateUrlUnicodeAuthority)||!e&&n(l,i.txt.regexen.validateUrlAuthority):!1},"undefined"!=typeof module&&module.exports&&(module.exports=i.txt),"undefined"!=typeof window)if(window.twttr)for(var f in i)window.twttr[f]=i[f];else window.twttr=i}();
var totalPriceText=$("#total-price"),checkoutBtn=$("#checkout-btn");$(document).ready(function(){function e(){"undefined"!=typeof google&&(a=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),google.maps.event.addListener(a,"place_changed",function(){t()}))}function t(){var e=a.getPlace();for(var t in l)document.getElementById(t).value="",document.getElementById(t).readOnly=!1;for(var o=0;o<e.address_components.length;o++){var r=e.address_components[o].types[0];if(l[r]){var d=e.address_components[o][l[r]];document.getElementById(r).value=d,document.getElementById(r).readOnly=!0}}$("#hidden-form").show(),n()}$("#autocomplete").show(),$("#hidden-form").hide();var o=0,n=function(){if($("#country").val()==item.country){o=item.price+domesticShippingPrice;{totalPriceText.html(item.currency+o.toFixed(2))}}else o=item.price+internationalShippingPrice,totalPriceText.html(item.currency+o.toFixed(2));checkoutBtn.removeAttr("disabled")};$("#country").change(function(){n()});var a,l={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"};e()});var unfollowButton=$("#unfollow-btn");unfollowButton.on("mouseover",function(){console.log("MOUSEOVER"),$(this).text("Unfollow"),$(this).addClass("btn-danger")}),unfollowButton.on("mouseleave",function(){unfollowButton.text("Following"),unfollowButton.removeClass("btn-danger")});var mediumEditor=new MediumEditor("[data-md-ed]",{firstHeader:"h3",secondHeader:"h4",cleanPastedHTML:!1,buttons:["bold","italic","anchor","header1","header2","blockquote","unorderedlist"],disableEditing:!1});
app.controller("homeController",["$scope",function(o){o.numberOfProducts=3,o.alreadyLoadedNumber=o.numberOfProducts,o.offsetLoadProducts=0,o.loadMoreButtonPressCount=0,o.showNowSignupText=!1,o.loadMore=function(e){o.alreadyLoadedNumber=o.numberOfProducts+o.offsetLoadProducts,o.numberOfProducts=e,o.offsetLoadProducts=o.alreadyLoadedNumber,o.loadMoreButtonPressCount++,o.loadMoreButtonPressCount>2&&!o.showNowSignupText&&(o.showNowSignupText=!0)}}]);
app.controller("billingController",["$scope","$http","HelperFactory","StripeFactory",function(e,t,o,a){e.showUpdateCard=!1,e.baseURL=baseURL,e.card={},e.token={},e.posting=!1,e.card.name=usersName,e.card.last4=last4,e.card.type=cardType,e.subscription=subscription,e.updateCard=function(){e.posting=!0;var t=o.createStripeCardObjectFromFormattedInput(e.card),n=a.createToken(t);n.then(function(t){console.log(t),console.log("SUCCESS!"),console.log(a.getToken()),e.token=a.getToken(),e.token.id=a.getToken().id,e.submitUpdate()},function(t){e.posting=!1,console.log("Stripe card fail::::"),console.log(t),humane.log(a.getErrors().message)})},e.submitUpdate=function(){e.posting=!0;var o={stripeToken:e.token.id,_token:csrfToken};t.put(e.baseURL+"/settings/billing",o).success(function(t){e.posting=!1,humane.log(t.message),e.card.last4=e.token.card.last4,e.card.type=e.token.card.type,e.showUpdateCard&&(e.showUpdateCard=!1)}).error(function(t){e.posting=!1,humane.log(t?t.message:"We're afraid something went wrong and the card didn't update"),e.showUpdateCard&&(e.showUpdateCard=!1)})},e.toggleShowingForm=function(){e.showUpdateCard=!e.showUpdateCard}}]);
app.controller("feedContentController",["$scope",function(o){o.numberOfProducts=6,o.alreadyLoadedNumber=o.numberOfProducts,o.offsetLoadProducts=0,o.loadMoreRecentProducts=function(e){o.alreadyLoadedNumber=o.numberOfProducts+o.offsetLoadProducts,o.numberOfProducts=e,o.offsetLoadProducts=o.alreadyLoadedNumber}}]);
app.controller("feedController",["$scope","$http",function(e){e.baseURL=baseURL,e.submitSearchForm=function(){window.location=e.baseURL+"/s/"+encodeURIComponent(e.searchText)}}]);
itemModel&&(itemModel.price=parseFloat(itemModel.price),itemModel.initial_units=parseFloat(itemModel.initial_units),itemModel.ship_price=parseFloat(itemModel.ship_price),itemModel.public=parseInt(itemModel.public));var openFileBrowser=function(){document.getElementById("addFiles").click()};app.controller("editController",["$scope","$http","$upload","$timeout","$filter",function(e,o,t,i){e.countries=countries,e.currencies=currencies,e.item={},itemModel.ships_to.length<1&&(itemModel.ships_to=void 0),e.item=itemModel,e.photos=[],e.dataUrls=[],"photos"in e.item&&(e.photos=e.item.photos),document.getElementById("title-heading").innerText=e.item.title,document.getElementById("item-description").innerHTML=e.item.description,document.scope=e,e.buttonPressed=function(){console.log(e.desc),console.log(e)},e.saveChanges=function(){e.posting=!0;var t=e.item;t._token=sessionToken,console.log("the data to be sent is "+JSON.stringify(t)),o.put(updateURL,JSON.stringify(t)).success(function(o){e.posting=!1,e.responseData=o,console.log("The response data is: "),console.log(e.responseData),e.item.description=o.description}).error(function(o){e.posting=!1,console.log(o)})},e.toggleVisibility=function(){e.saveChanges(),e.posting=!0;var t={_token:sessionToken};console.log("the data to be sent is "+JSON.stringify(t)),o.put(updateURL+"/toggle-visibility",JSON.stringify(t)).success(function(o){e.item.public=o.public,e.posting=!1,humane.log(o.message),console.log("The response data is: "),console.log(o)}).error(function(o){e.posting=!1,console.log(o),o.message&&humane.log(o.message),o.errors&&(console.log("ERORROS ARE"),console.log(o.errors),humane.log(o.errors))})},e.isFileBrowserOpen=!1,e.openFileBrowser=function(){e.isFileBrowserOpen||(e.isFileBrowserOpen=!0,document.getElementById("addFiles").click(),e.isFileBrowserOpen=!1),console.log("BUTTON CLICKED")},e.tempURL="",e.uploading=!1,e.onFileSelect=function(o){if(e.uploading)return void humane.log("One at a time please.");for(var n=0;n<o.length;n++){if(o.length>1){humane.log("Please only one photo at a time.. We are only new here.");break}var s=o[n];if(window.FileReader&&s.type.indexOf("image")>-1){var l=new FileReader;l.readAsDataURL(o[n]);var a=!1;if(s.size>7340032)return a=!0,console.log("File too large."),void humane.log("File is too large. Please try compressing it first.");console.log("not too big");{(function(o,t){o.onload=function(o){i(function(){e.dataUrls[t]=o.target.result,console.log(o.target.result),e.photos.push({url:o.target.result}),e.tempURL=o.target.result})}})(l,n)}}console.log(s),humane.log("Uploading..."),e.uploading=!0,e.upload=t.upload({url:baseURL+"/photo/upload/"+itemModel.id,data:{_token:csrfToken},file:s,fileFormDateName:"photo"}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(o,t,i){e.photos[e.photos.length-1].set_id=o.set_id,e.photos[e.photos.length-1].url=o.url,humane.log("Photo successfully uploaded!"),console.log(o),console.log(t),console.log(i),e.uploading=!1}).error(function(o,t,i){e.photos=e.photos.slice(e.photos.length-1,1),humane.log("Upload failed. "+o),console.log(o),console.log(t),console.log(i),e.uploading=!1})}},e.showCropBox=function(e){var o=new Image;o.src=e.target.result,o.onload=function(){function e(e){t.width=t.height=100;var o=t.getContext("2d");o.drawImage(n,e.x,e.y,e.w,e.h,0,0,t.width,t.height),$("#image_output").attr("src",t.toDataURL()),$("#image_source").text(t.toDataURL())}var t=document.createElement("canvas");t.width=300,t.height=o.height*(300/o.width);var i=t.getContext("2d");i.drawImage(o,0,0,t.width,t.height),$("#image_input").html(['<img src="',t.toDataURL(),'"/>'].join(""));var n=$("#image_input img")[0],t=document.createElement("canvas");$("#image_input img").Jcrop({bgColor:"black",bgOpacity:.6,setSelect:[0,0,100,100],aspectRatio:1,keySupport:!1,onChange:e})}},e.deletePhoto=function(t){var i=e.photos[t],n=i.set_id;i.deleted=!0;var s=baseURL+"/photo/"+e.item.id,l={set_id:n,_token:csrfToken,_method:"DELETE"};humane.log("Deleting..."),o.put(s,JSON.stringify(l)).success(function(o){e.responseData=o,console.log("The response data is: "),console.log(e.responseData),humane.log("Photo deleted successfully"),e.item.public&&o.message&&humane.log(o.message),o.item&&(e.item.public=o.item.public),e.photos.splice(t,1)}).error(function(e){console.log(e),humane.log("Photo deletion failed."),i.deleted=!1})}}]);
app.controller("indexController",["$scope","$http",function(o,e){o.currency="USD",o.codes=currencyCodes,o.handleCodeChange=function(e){o.currency=o.codes[e],console.log(o.currency)},o.toggleAdd=function(){o.shouldShowAdd=!o.shouldShowAdd,$("#addItem").slideToggle(300),console.log("Show pressed")},document.scope=o,o.formSubmit=function(){o.posting=!0,o.formData={_token:csrfToken,title:o.title,currency:o.currency,price:o.price},console.log(o.formData),e.post("/products",JSON.stringify(o.formData)).success(function(e){o.responseData=e,e.message&&(o.posting=!1,humane.log(e.message)),e.redirect_url&&(window.location=o.responseData.redirect_url),o.posting=!1}).error(function(e){console.log(e),o.posting=!1})}}]);
app.controller("showController",["$scope",function(e){e.item=item,e.user=e.item.user,e.profile_img_url=e.user.profile_img.url}]);
app.controller("notificationsController",["$scope",function(o){o.notifications=sailr.notifications,o.baseURL=baseURL}]);
app.controller("searchController",["$scope","$http",function(s){s.results=sailr.results,s.baseURL=baseURL}]);
app.controller("chooseController",["$scope","$http","$q","StripeFactory","HelperFactory","SubscriptionFactory",function(o,e,n,t,r,s){o.showingCreditForm=!1,o.showCardForm=!1,o.posting=!1,o.showCoupon=!1,o.couponCode="",o.card={},o.toggleCouponShow=function(){o.showCoupon=!o.showCoupon},o.subscribeToPlan=function(e){console.log("PLAN ID::: "+e),o.posting=!0;var n=r.createStripeCardObjectFromFormattedInput(o.card),c=t.createToken(n);c.then(function(n){if(console.log(n),console.log(t.getToken()),o.couponCode)var r=s.createSubscription(e,t.getToken().id,o.couponCode);else var r=s.createSubscription(e,t.getToken().id);r.then(function(e){o.posting=!1,o.showCardForm=!1,console.log("SUCCESS on server subscription create"),console.log(e),humane.log(e.message),window.location=e.redirect_url},function(e){o.posting=!1,o.$apply(function(){o.posting=!1}),console.log("Subscription fail::   --"),console.log(e),humane.log(e.data.message)})},function(e){o.posting=!1,console.log("Stripe card fail::::"),console.log(e),humane.log(t.getErrors().message)})},o.handleSubscribeButtonPressed=function(){o.showingCreditForm||(o.showCardForm=!0,o.showingCreditForm=!0)}}]);
app.controller("manageController",["$scope","$http","$q","SubscriptionFactory","$rootScope",function(n,o,t,i){n.posting=!1,n.subscription=subscription,n.user=user,n.cancelSubscription=function(){n.posting=!0;var o=i.cancelSubscription();o.then(function(o){n.posting=!1,n.subscription.cancel_at_period_end=!0,humane.log(o.message)},function(o){n.posting=!1,n.$apply(),humane.log(o.message)})}}]);
var openFileBrowser=function(){document.getElementById("addFiles").click()};app.controller("updateController",["$scope",function(e){e.showSubmit=!1,$("#addFiles").on("change",function(){e.$apply(function(){e.showSubmit=!0})}),e.user={},e.fileButtonText="Select new profile photo",e.user=loggedInUser,e.profileURL=profileImageURL}]);