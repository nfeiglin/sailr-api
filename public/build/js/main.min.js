function MediumEditor(e,t){"use strict";return this.init(e,t)}!function(){function e(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}}var t=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1},n=function(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])};if(window.XMLHttpRequest&&(!window.FormData||window.FileAPI&&FileAPI.forceLoad?(n("open",function(t){return function(n,i,o){e(this),this.__url=i,t.apply(this,[n,i,o])}}),n("getResponseHeader",function(e){return function(t){return this.__fileApiXHR?this.__fileApiXHR.getResponseHeader(t):e.apply(this,[t])}}),n("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),n("abort",function(e){return function(){return this.__fileApiXHR?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),n("setRequestHeader",function(t){return function(n,i){if("__setXHR_"===n){e(this);var o=i(this);o instanceof Function&&o(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[n]=i,t.apply(this,arguments)}}),n("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isShim){var i=arguments[0],o={url:n.__url,complete:function(e,t){!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==t.status&&Object.defineProperty(n,"status",{get:function(){return t.status}}),void 0!==t.statusText&&Object.defineProperty(n,"statusText",{get:function(){return t.statusText}}),Object.defineProperty(n,"readyState",{get:function(){return 4}}),void 0!==t.response&&Object.defineProperty(n,"response",{get:function(){return t.response}}),Object.defineProperty(n,"responseText",{get:function(){return t.responseText}}),n.__fileApiXHR=t,n.onreadystatechange()},fileprogress:function(e){e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded},headers:n.__requestHeaders};o.data={},o.files={};for(var r=0;r<i.data.length;r++){var s=i.data[r];null!=s.val&&null!=s.val.name&&null!=s.val.size&&null!=s.val.type?o.files[s.key]=s.val:o.data[s.key]=s.val}setTimeout(function(){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(o)},1)}else e.apply(n,arguments)}})):n("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}),window.XMLHttpRequest.__isShim=!0),!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(e){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';if(!e.__isWrapped&&(null!=e.getAttribute("ng-file-select")||null!=e.getAttribute("data-ng-file-select"))){var n=document.createElement("div");n.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"></div>',n=n.firstChild;var i=e.parentNode;i.insertBefore(n,e),i.removeChild(e),n.appendChild(e),e.__isWrapped=!0}},o=function(e){return function(t){for(var n=FileAPI.getFiles(t),i=0;i<n.length;i++)void 0===n[i].size&&(n[i].size=0),void 0===n[i].name&&(n[i].name="file"),void 0===n[i].type&&(n[i].type="undefined");t.target||(t.target={}),t.target.files=n,t.target.files.item=function(e){return t.target.files[e]||null},e(t)}},r=function(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(e){return function(t,n,s,a){r(this,t)?(i(this),e.apply(this,[t,o(n),s,a])):e.apply(this,[t,n,s,a])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(e){return function(t,n){r(this,t)?(i(this),e.apply(this,[t,o(n)])):e.apply(this,[t,n])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(e,t,n){this.data.push({key:e,val:t,name:n})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),!FileAPI.upload){var e,n,i,o,r,s=document.createElement("script"),a=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)n=window.FileAPI.jsPath;else for(i=0;i<a.length;i++)if(r=a[i].src,o=r.indexOf("angular-file-upload-shim.js"),-1==o&&(o=r.indexOf("angular-file-upload-shim.min.js")),o>-1){n=r.substring(0,o);break}null==FileAPI.staticPath&&(FileAPI.staticPath=n),s.setAttribute("src",e||n+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s),FileAPI.hasFlash=t()}}()}window.FileReader||(window.FileReader=function(){function e(e,n){var i={type:e,target:t,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i}var t=this,n=!1;this.listeners={},this.addEventListener=function(e,n){t.listeners[e]=t.listeners[e]||[],t.listeners[e].push(n)},this.removeEventListener=function(e,n){t.listeners[e]&&t.listeners[e].splice(t.listeners[e].indexOf(n),1)},this.dispatchEvent=function(e){var n=t.listeners[e.type];if(n)for(var i=0;i<n.length;i++)n[i].call(t,e)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var i=function(i){if(n||(n=!0,t.onloadstart&&this.onloadstart(e("loadstart",i))),"load"===i.type){t.onloadend&&t.onloadend(e("loadend",i));var o=e("load",i);t.onload&&t.onload(o),t.dispatchEvent(o)}else if("progress"===i.type){var o=e("progress",i);t.onprogress&&t.onprogress(o),t.dispatchEvent(o)}else{var o=e("error",i);t.onerror&&t.onerror(o),t.dispatchEvent(o)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}})}(),function(){var e=angular.module("angularFileUpload",[]);e.service("$upload",["$http","$q","$timeout",function(e,t,n){function i(i){i.method=i.method||"POST",i.headers=i.headers||{},i.transformRequest=i.transformRequest||function(t,n){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,n)};var o=t.defer();window.XMLHttpRequest.__isShim&&(i.headers.__setXHR_=function(){return function(e){e&&(i.__XHR=e,i.xhrFn&&i.xhrFn(e),e.upload.addEventListener("progress",function(e){o.notify(e)},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&o.notify(e)},!1))}}),e(i).then(function(e){o.resolve(e)},function(e){o.reject(e)},function(e){o.notify(e)});var r=o.promise;return r.success=function(e){return r.then(function(t){e(t.data,t.status,t.headers,i)}),r},r.error=function(e){return r.then(null,function(t){e(t.data,t.status,t.headers,i)}),r},r.progress=function(e){return r.then(null,null,function(t){e(t)}),r},r.abort=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),r},r.xhr=function(e){return i.xhrFn=function(t){return function(){t&&t.apply(r,arguments),e.apply(r,arguments)}}(i.xhrFn),r},r}this.upload=function(t){t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest||e.defaults.transformRequest;var n=new FormData,o=t.transformRequest,r=t.data;return t.transformRequest=function(e,n){if(r)if(t.formDataAppender)for(var i in r){var s=r[i];t.formDataAppender(e,i,s)}else for(var i in r){var s=r[i];if("function"==typeof o)s=o(s,n);else for(var a=0;a<o.length;a++){var l=o[a];"function"==typeof l&&(s=l(s,n))}e.append(i,s)}if(null!=t.file){var c=t.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(t.file))for(var d="[object String]"===Object.prototype.toString.call(c),a=0;a<t.file.length;a++)e.append(d?c:c[a],t.file[a],t.fileName&&t.fileName[a]||t.file[a].name);else e.append(c,t.file,t.fileName||t.file.name)}return e},t.data=n,i(t)},this.http=function(e){return i(e)}}]),e.directive("ngFileSelect",["$parse","$timeout",function(e,t){return function(n,i,o){var r=e(o.ngFileSelect);i.bind("change",function(e){var i,o,s=[];if(i=e.target.files,null!=i)for(o=0;o<i.length;o++)s.push(i.item(o));t(function(){r(n,{$files:s,$event:e})})}),("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&i.bind("touchend",function(e){e.preventDefault(),e.target.click()})}}]),e.directive("ngFileDropAvailable",["$parse","$timeout",function(e,t){return function(n,i,o){if("draggable"in document.createElement("span")){var r=e(o.ngFileDropAvailable);t(function(){r(n)})}}}]),e.directive("ngFileDrop",["$parse","$timeout","$location",function(e,t,n){return function(i,o,r){function s(e){return/^[\000-\177]*$/.test(e)}function a(e,i){var o=[],r=e.dataTransfer.items;if(r&&r.length>0&&r[0].webkitGetAsEntry&&"file"!=n.protocol())for(var a=0;a<r.length;a++){var c=r[a].webkitGetAsEntry();null!=c&&(s(c.name)?l(o,c):o.push(r[a].getAsFile()))}else{var d=e.dataTransfer.files;if(null!=d)for(var a=0;a<d.length;a++)o.push(d.item(a))}!function p(e){t(function(){u?p(10):i(o)},e||0)}()}function l(e,t){if(null!=t)if(t.isDirectory){var n=t.createReader();u++,n.readEntries(function(t){for(var n=0;n<t.length;n++)l(e,t[n]);u--})}else u++,t.file(function(t){u--,e.push(t)})}if("draggable"in document.createElement("span")){var c=null;o[0].addEventListener("dragover",function(n){if(n.stopPropagation(),n.preventDefault(),o.addClass(o[0].__drag_over_class_),t.cancel(c),!o[0].__drag_entered_){o[0].__drag_entered_=!0;var s=e(r.ngFileDragOverClass);if(s instanceof Function){var a=s(i,{$event:n});o[0].__drag_over_class_=a,o.addClass(o[0].__drag_over_class_)}else o[0].__drag_over_class_=r.ngFileDragOverClass||"dragover",o.addClass(o[0].__drag_over_class_)}},!1),o[0].addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault()},!1),o[0].addEventListener("dragleave",function(){c=t(function(){o[0].__drag_entered_=!1,o.removeClass(o[0].__drag_over_class_)})},!1);var d=e(r.ngFileDrop);o[0].addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),o[0].__drag_entered_=!1,o.removeClass(o[0].__drag_over_class_),a(e,function(t){d(i,{$files:t,$event:e})})},!1);var u=0}}}])}();var sailrUrls={hashtagBase:"http://sailr.co/s/%23",cashtagBase:"http://sailr.co/s/%24",usernameBase:"http://sailr.co/"},sailrClasses={cashtagClass:"sailr cashtag-link",hashtagClass:"sailr hashtag-link",usernameClass:"sailr username-link"};!function(){function e(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var n=r.txt.regexen[t]||"";return"string"!=typeof n&&(n=n.source),n}),t)}function t(e,t){return e.replace(/#\{(\w+)\}/g,function(e,n){return t[n]||""})}function n(e,t,n){var i=String.fromCharCode(t);return n!==t&&(i+="-"+String.fromCharCode(n)),e.push(i),e}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(e,t,n){return n?!e||e.match(t)&&RegExp["$&"]===e:"string"==typeof e&&e.match(t)&&RegExp["$&"]===e}if("undefined"==typeof r||null===r)var r={};r.txt={},r.txt.regexen={};var s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};r.txt.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return s[e]})},r.txt.regexSupplant=e,r.txt.stringSupplant=t,r.txt.addCharsToCharClass=n;var a=String.fromCharCode,l=[a(32),a(133),a(160),a(5760),a(6158),a(8232),a(8233),a(8239),a(8287),a(12288)];n(l,9,13),n(l,8192,8202);var c=[a(65534),a(65279),a(65535)];n(c,8234,8238),r.txt.regexen.spaces_group=e(l.join("")),r.txt.regexen.spaces=e("["+l.join("")+"]"),r.txt.regexen.invalid_chars_group=e(c.join("")),r.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,r.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,r.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var d=[];n(d,1024,1279),n(d,1280,1319),n(d,11744,11775),n(d,42560,42655),n(d,1425,1471),n(d,1473,1474),n(d,1476,1477),n(d,1479,1479),n(d,1488,1514),n(d,1520,1524),n(d,64274,64296),n(d,64298,64310),n(d,64312,64316),n(d,64318,64318),n(d,64320,64321),n(d,64323,64324),n(d,64326,64335),n(d,1552,1562),n(d,1568,1631),n(d,1646,1747),n(d,1749,1756),n(d,1758,1768),n(d,1770,1775),n(d,1786,1788),n(d,1791,1791),n(d,1872,1919),n(d,2208,2208),n(d,2210,2220),n(d,2276,2302),n(d,64336,64433),n(d,64467,64829),n(d,64848,64911),n(d,64914,64967),n(d,65008,65019),n(d,65136,65140),n(d,65142,65276),n(d,8204,8204),n(d,3585,3642),n(d,3648,3662),n(d,4352,4607),n(d,12592,12677),n(d,43360,43391),n(d,44032,55215),n(d,55216,55295),n(d,65441,65500),n(d,12449,12538),n(d,12540,12542),n(d,65382,65439),n(d,65392,65392),n(d,65296,65305),n(d,65313,65338),n(d,65345,65370),n(d,12353,12438),n(d,12441,12446),n(d,13312,19903),n(d,19968,40959),n(d,173824,177983),n(d,177984,178207),n(d,194560,195103),n(d,12291,12291),n(d,12293,12293),n(d,12347,12347),r.txt.regexen.nonLatinHashtagChars=e(d.join(""));var u=[];n(u,192,214),n(u,216,246),n(u,248,255),n(u,256,591),n(u,595,596),n(u,598,599),n(u,601,601),n(u,603,603),n(u,611,611),n(u,616,616),n(u,623,623),n(u,626,626),n(u,649,649),n(u,651,651),n(u,699,699),n(u,768,879),n(u,7680,7935),r.txt.regexen.latinAccentChars=e(u.join("")),r.txt.regexen.hashSigns=/[#＃]/,r.txt.regexen.hashtagAlpha=e(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),r.txt.regexen.hashtagAlphaNumeric=e(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),r.txt.regexen.endHashtagMatch=e(/^(?:#{hashSigns}|:\/\/)/),r.txt.regexen.hashtagBoundary=e(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),r.txt.regexen.validHashtag=e(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),r.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:rt|RT|rT|Rt):?)/,r.txt.regexen.atSigns=/[@＠]/,r.txt.regexen.validMentionOrList=e("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),r.txt.regexen.validReply=e(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),r.txt.regexen.endMentionMatch=e(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),r.txt.regexen.validUrlPrecedingChars=e(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,r.txt.regexen.invalidDomainChars=t("#{punct}#{spaces_group}#{invalid_chars_group}",r.txt.regexen),r.txt.regexen.validDomainChars=e(/[^#{invalidDomainChars}]/),r.txt.regexen.validSubdomain=e(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validDomainName=e(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validGTLD=e(RegExp("(?:(?:academy|actor|aero|agency|arpa|asia|bar|bargains|berlin|best|bid|bike|biz|blue|boutique|build|builders|buzz|cab|camera|camp|cards|careers|cat|catering|center|ceo|cheap|christmas|cleaning|clothing|club|codes|coffee|com|community|company|computer|construction|contractors|cool|coop|cruises|dance|dating|democrat|diamonds|directory|domains|edu|education|email|enterprises|equipment|estate|events|expert|exposed|farm|fish|flights|florist|foundation|futbol|gallery|gift|glass|gov|graphics|guitars|guru|holdings|holiday|house|immobilien|industries|info|institute|int|international|jobs|kaufen|kim|kitchen|kiwi|koeln|kred|land|lighting|limo|link|luxury|management|mango|marketing|menu|mil|mobi|moda|monash|museum|nagoya|name|net|neustar|ninja|okinawa|onl|org|partners|parts|photo|photography|photos|pics|pink|plumbing|post|pro|productions|properties|pub|qpon|recipes|red|rentals|repair|report|reviews|rich|ruhr|sexy|shiksha|shoes|singles|social|solar|solutions|supplies|supply|support|systems|tattoo|technology|tel|tienda|tips|today|tokyo|tools|training|travel|uno|vacations|ventures|viajes|villas|vision|vote|voting|voto|voyage|wang|watch|wed|wien|wiki|works|xxx|xyz|zone|дети|онлайн|орг|сайт|بازار|شبكة|みんな|中信|中文网|公司|公益|在线|我爱你|政务|游戏|移动|网络|集团|삼성)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validCCTLD=e(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|мон|рф|срб|укр|қаз|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|香港|한국)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validPunycode=e(/(?:xn--[0-9a-z]+)/),r.txt.regexen.validDomain=e(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),r.txt.regexen.validAsciiDomain=e(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),r.txt.regexen.invalidShortDomain=e(/^#{validDomainName}#{validCCTLD}$/i),r.txt.regexen.validPortNumber=e(/[0-9]+/),r.txt.regexen.validGeneralUrlPathChars=e(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),r.txt.regexen.validUrlBalancedParens=e("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),r.txt.regexen.validUrlPathEndingChars=e(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),r.txt.regexen.validUrlPath=e("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),r.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,r.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,r.txt.regexen.extractUrl=e("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),r.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,r.txt.regexen.urlHasProtocol=/^https?:\/\//i,r.txt.regexen.urlHasHttps=/^https:\/\//i,r.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,r.txt.regexen.validCashtag=e("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),r.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,r.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,r.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,r.txt.regexen.validateUrlPchar=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),r.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,r.txt.regexen.validateUrlUserinfo=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),r.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,r.txt.regexen.validateUrlIpv4=e(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),r.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,r.txt.regexen.validateUrlIp=e("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),r.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomain=e(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),r.txt.regexen.validateUrlHost=e("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),r.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomain=e(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),r.txt.regexen.validateUrlUnicodeHost=e("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),r.txt.regexen.validateUrlPort=/[0-9]{1,5}/,r.txt.regexen.validateUrlUnicodeAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlPath=e(/(\/#{validateUrlPchar}*)*/i),r.txt.regexen.validateUrlQuery=e(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlFragment=e(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlUnencoded=e("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var p="tweet-url list-slug",h={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},f={disabled:!0,readonly:!0,multiple:!0,checked:!0};r.txt.tagAttrs=function(e){var t="";for(var n in e){var i=e[n];f[n]&&(i=i?n:null),null!=i&&(t+=" "+r.txt.htmlEscape(n)+'="'+r.txt.htmlEscape(i.toString())+'"')}return t},r.txt.linkToText=function(e,n,i,o){o.suppressNoFollow||(i.rel="nofollow"),o.linkAttributeBlock&&o.linkAttributeBlock(e,i),o.linkTextBlock&&(n=o.linkTextBlock(e,n));var s={text:n,attr:r.txt.tagAttrs(i)};return t("<a#{attr}>#{text}</a>",s)},r.txt.linkToTextWithSymbol=function(e,t,n,i,o){var s=o.symbolTag?"<"+o.symbolTag+">"+t+"</"+o.symbolTag+">":t;n=r.txt.htmlEscape(n);var a=o.textWithSymbolTag?"<"+o.textWithSymbolTag+">"+n+"</"+o.textWithSymbolTag+">":n;return o.usernameIncludeSymbol||!t.match(r.txt.regexen.atSigns)?r.txt.linkToText(e,s+a,i,o):s+r.txt.linkToText(e,a,i,o)},r.txt.linkToHashtag=function(e,t,n){var o=t.substring(e.indices[0],e.indices[0]+1),s=r.txt.htmlEscape(e.hashtag),a=i(n.htmlAttrs||{});return a.href=n.hashtagUrlBase+s,a.title="#"+s,a["class"]=n.hashtagClass,s.charAt(0).match(r.txt.regexen.rtl_chars)&&(a["class"]+=" rtl"),n.targetBlank&&(a.target="_blank"),r.txt.linkToTextWithSymbol(e,o,s,a,n)},r.txt.linkToCashtag=function(e,t,n){var o=r.txt.htmlEscape(e.cashtag),s=i(n.htmlAttrs||{});return s.href=n.cashtagUrlBase+o,s.title="$"+o,s["class"]=n.cashtagClass,n.targetBlank&&(s.target="_blank"),r.txt.linkToTextWithSymbol(e,"$",o,s,n)},r.txt.linkToMentionAndList=function(e,t,n){var o=t.substring(e.indices[0],e.indices[0]+1),s=r.txt.htmlEscape(e.screenName),a=r.txt.htmlEscape(e.listSlug),l=e.listSlug&&!n.suppressLists,c=i(n.htmlAttrs||{});return c["class"]=l?n.listClass:n.usernameClass,c.href=l?n.listUrlBase+s+a:n.usernameUrlBase+s,l||n.suppressDataScreenName||(c["data-screen-name"]=s),n.targetBlank&&(c.target="_blank"),r.txt.linkToTextWithSymbol(e,o,l?s+a:s,c,n)},r.txt.linkToUrl=function(e,t,n){var o=e.url,s=o,a=r.txt.htmlEscape(s),l=n.urlEntities&&n.urlEntities[o]||e;l.display_url&&(a=r.txt.linkTextWithEntity(l,n));var c=i(n.htmlAttrs||{});return o.match(r.txt.regexen.urlHasProtocol)||(o="http://"+o),c.href=o,n.targetBlank&&(c.target="_blank"),n.urlClass&&(c["class"]=n.urlClass),n.urlTarget&&(c.target=n.urlTarget),!n.title&&l.display_url&&(c.title=l.expanded_url),r.txt.linkToText(e,a,c,n)},r.txt.linkTextWithEntity=function(e,n){var i=e.display_url,o=e.expanded_url,s=i.replace(/…/g,"");if(-1!=o.indexOf(s)){var a=o.indexOf(s),l={displayUrlSansEllipses:s,beforeDisplayUrl:o.substr(0,a),afterDisplayUrl:o.substr(a+s.length),precedingEllipsis:i.match(/^…/)?"…":"",followingEllipsis:i.match(/…$/)?"…":""};for(var c in l)l.hasOwnProperty(c)&&(l[c]=r.txt.htmlEscape(l[c]));return l.invisible=n.invisibleTagAttrs,t("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",l)}return i},r.txt.autoLinkEntities=function(e,t,n){n=i(n||{}),n.hashtagClass=n.hashtagClass||sailrClasses.hashtagClass,n.hashtagUrlBase=n.hashtagUrlBase||sailrUrls.hashtagBase,n.cashtagClass=n.cashtagClass||sailrClasses.cashtagClass,n.cashtagUrlBase=n.cashtagUrlBase||sailrUrls.cashtagBase,n.listClass=n.listClass||p,n.usernameClass=n.usernameClass||sailrClasses.usernameClass,n.usernameUrlBase=n.usernameUrlBase||sailrUrls.usernameBase,n.listUrlBase=n.listUrlBase||"https://sailr.co/",n.htmlAttrs=r.txt.extractHtmlAttrsFromOptions(n),n.invisibleTagAttrs=n.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var o,s,a;if(n.urlEntities){for(o={},s=0,a=n.urlEntities.length;a>s;s++)o[n.urlEntities[s].url]=n.urlEntities[s];n.urlEntities=o}var l="",c=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var d=n.htmlEscapeNonEntities?r.txt.htmlEscape:function(e){return e},s=0;s<t.length;s++){var u=t[s];l+=d(e.substring(c,u.indices[0])),u.url?l+=r.txt.linkToUrl(u,e,n):u.hashtag?l+=r.txt.linkToHashtag(u,e,n):u.screenName?l+=r.txt.linkToMentionAndList(u,e,n):u.cashtag&&(l+=r.txt.linkToCashtag(u,e,n)),c=u.indices[1]}return l+=d(e.substring(c,e.length))},r.txt.autoLinkWithJSON=function(e,t,n){if(t.user_mentions)for(var i=0;i<t.user_mentions.length;i++)t.user_mentions[i].screenName=t.user_mentions[i].screen_name;if(t.hashtags)for(var i=0;i<t.hashtags.length;i++)t.hashtags[i].hashtag=t.hashtags[i].text;if(t.symbols)for(var i=0;i<t.symbols.length;i++)t.symbols[i].cashtag=t.symbols[i].text;var o=[];for(var s in t)o=o.concat(t[s]);return r.txt.modifyIndicesFromUnicodeToUTF16(e,o),r.txt.autoLinkEntities(e,o,n)},r.txt.extractHtmlAttrsFromOptions=function(e){var t={};for(var n in e){var i=e[n];h[n]||(f[n]&&(i=i?n:null),null!=i&&(t[n]=i))}return t},r.txt.autoLink=function(e,t){var n=r.txt.extractEntitiesWithIndices(e,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(e,n,t)},r.txt.autoLinkUsernamesOrLists=function(e,t){var n=r.txt.extractMentionsOrListsWithIndices(e);return r.txt.autoLinkEntities(e,n,t)},r.txt.autoLinkHashtags=function(e,t){var n=r.txt.extractHashtagsWithIndices(e);return r.txt.autoLinkEntities(e,n,t)},r.txt.autoLinkCashtags=function(e,t){var n=r.txt.extractCashtagsWithIndices(e);return r.txt.autoLinkEntities(e,n,t)},r.txt.autoLinkUrlsCustom=function(e,t){var n=r.txt.extractUrlsWithIndices(e,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(e,n,t)},r.txt.removeOverlappingEntities=function(e){e.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var t=e[0],n=1;n<e.length;n++)t.indices[1]>e[n].indices[0]?(e.splice(n,1),n--):t=e[n]},r.txt.extractEntitiesWithIndices=function(e,t){var n=r.txt.extractUrlsWithIndices(e,t).concat(r.txt.extractMentionsOrListsWithIndices(e)).concat(r.txt.extractHashtagsWithIndices(e,{checkUrlOverlap:!1})).concat(r.txt.extractCashtagsWithIndices(e));return 0==n.length?[]:(r.txt.removeOverlappingEntities(n),n)},r.txt.extractMentions=function(e){for(var t=[],n=r.txt.extractMentionsWithIndices(e),i=0;i<n.length;i++){var o=n[i].screenName;t.push(o)}return t},r.txt.extractMentionsWithIndices=function(e){for(var t,n=[],i=r.txt.extractMentionsOrListsWithIndices(e),o=0;o<i.length;o++)t=i[o],""==t.listSlug&&n.push({screenName:t.screenName,indices:t.indices});return n},r.txt.extractMentionsOrListsWithIndices=function(e){if(!e||!e.match(r.txt.regexen.atSigns))return[];var t=[];return e.replace(r.txt.regexen.validMentionOrList,function(e,n,i,o,s,a,l){var c=l.slice(a+e.length);if(!c.match(r.txt.regexen.endMentionMatch)){s=s||"";var d=a+n.length,u=d+o.length+s.length+1;t.push({screenName:o,listSlug:s,indices:[d,u]})}}),t},r.txt.extractReplies=function(e){if(!e)return null;var t=e.match(r.txt.regexen.validReply);return!t||RegExp.rightContext.match(r.txt.regexen.endMentionMatch)?null:t[1]},r.txt.extractUrls=function(e,t){for(var n=[],i=r.txt.extractUrlsWithIndices(e,t),o=0;o<i.length;o++)n.push(i[o].url);return n},r.txt.extractUrlsWithIndices=function(e,t){if(t||(t={extractUrlsWithoutProtocol:!0}),!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var n=[];r.txt.regexen.extractUrl.exec(e);){var i=RegExp.$2,o=RegExp.$3,s=RegExp.$4,a=RegExp.$5,l=RegExp.$7,c=r.txt.regexen.extractUrl.lastIndex,d=c-o.length;if(s)o.match(r.txt.regexen.validTcoUrl)&&(o=RegExp.lastMatch,c=d+o.length),n.push({url:o,indices:[d,c]});else{if(!t.extractUrlsWithoutProtocol||i.match(r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var u=null,p=!1,h=0;if(a.replace(r.txt.regexen.validAsciiDomain,function(e){var t=a.indexOf(e,h);h=t+e.length,u={url:e,indices:[d+t,d+h]},p=e.match(r.txt.regexen.invalidShortDomain),p||n.push(u)}),null==u)continue;l&&(p&&n.push(u),u.url=o.replace(a,u.url),u.indices[1]=c)}}return n},r.txt.extractHashtags=function(e){for(var t=[],n=r.txt.extractHashtagsWithIndices(e),i=0;i<n.length;i++)t.push(n[i].hashtag);return t},r.txt.extractHashtagsWithIndices=function(e,t){if(t||(t={checkUrlOverlap:!0}),!e||!e.match(r.txt.regexen.hashSigns))return[];var n=[];if(e.replace(r.txt.regexen.validHashtag,function(e,t,i,o,s,a){var l=a.slice(s+e.length);if(!l.match(r.txt.regexen.endHashtagMatch)){var c=s+t.length,d=c+o.length+1;n.push({hashtag:o,indices:[c,d]})}}),t.checkUrlOverlap){var i=r.txt.extractUrlsWithIndices(e);if(i.length>0){var o=n.concat(i);r.txt.removeOverlappingEntities(o),n=[];for(var s=0;s<o.length;s++)o[s].hashtag&&n.push(o[s])}}return n},r.txt.extractCashtags=function(e){for(var t=[],n=r.txt.extractCashtagsWithIndices(e),i=0;i<n.length;i++)t.push(n[i].cashtag);return t},r.txt.extractCashtagsWithIndices=function(e){if(!e||-1==e.indexOf("$"))return[];var t=[];return e.replace(r.txt.regexen.validCashtag,function(e,n,i,o,r){var s=r+n.length,a=s+o.length+1;t.push({cashtag:o,indices:[s,a]})}),t},r.txt.modifyIndicesFromUnicodeToUTF16=function(e,t){r.txt.convertUnicodeIndices(e,t,!1)},r.txt.modifyIndicesFromUTF16ToUnicode=function(e,t){r.txt.convertUnicodeIndices(e,t,!0)},r.txt.getUnicodeTextLength=function(e){return e.replace(r.txt.regexen.non_bmp_code_pairs," ").length},r.txt.convertUnicodeIndices=function(e,t,n){if(0!=t.length){var i=0,o=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var r=0,s=t[0];i<e.length;){if(s.indices[0]==(n?i:o)){var a=s.indices[1]-s.indices[0];if(s.indices[0]=n?o:i,s.indices[1]=s.indices[0]+a,r++,r==t.length)break;s=t[r]}var l=e.charCodeAt(i);l>=55296&&56319>=l&&i<e.length-1&&(l=e.charCodeAt(i+1),l>=56320&&57343>=l&&i++),o++,i++}}},r.txt.splitTags=function(e){for(var t,n,i=e.split("<"),o=[],r=0;r<i.length;r+=1)if(n=i[r]){t=n.split(">");for(var s=0;s<t.length;s+=1)o.push(t[s])}else o.push("");return o},r.txt.hitHighlight=function(e,t,n){var i="em";if(t=t||[],n=n||{},0===t.length)return e;var o,s,a,l,c,d,u,p=n.tag||i,h=["<"+p+">","</"+p+">"],f=r.txt.splitTags(e),m="",g=0,v=f[0],b=0,y=0,x=!1,w=v,C=[];
for(o=0;o<t.length;o+=1)for(s=0;s<t[o].length;s+=1)C.push(t[o][s]);for(a=0;a<C.length;a+=1){for(l=C[a],c=h[a%2],d=!1;null!=v&&l>=b+v.length;)m+=w.slice(y),x&&l===b+w.length&&(m+=c,d=!0),f[g+1]&&(m+="<"+f[g+1]+">"),b+=w.length,y=0,g+=2,v=f[g],w=v,x=!1;d||null==v?d||(d=!0,m+=c):(u=l-b,m+=w.slice(y,u)+c,y=u,x=a%2===0?!0:!1)}if(null!=v)for(y<w.length&&(m+=w.slice(y)),a=g+1;a<f.length;a+=1)m+=a%2===0?f[a]:"<"+f[a]+">";return m};var m=140,g=[a(65534),a(65279),a(65535),a(8234),a(8235),a(8236),a(8237),a(8238)];r.txt.getTweetLength=function(e,t){t||(t={short_url_length:22,short_url_length_https:23});var n=r.txt.getUnicodeTextLength(e),i=r.txt.extractUrlsWithIndices(e);r.txt.modifyIndicesFromUTF16ToUnicode(e,i);for(var o=0;o<i.length;o++)n+=i[o].indices[0]-i[o].indices[1],n+=i[o].url.toLowerCase().match(r.txt.regexen.urlHasHttps)?t.short_url_length_https:t.short_url_length;return n},r.txt.isInvalidTweet=function(e){if(!e)return"empty";if(r.txt.getTweetLength(e)>m)return"too_long";for(var t=0;t<g.length;t++)if(e.indexOf(g[t])>=0)return"invalid_characters";return!1},r.txt.isValidTweetText=function(e){return!r.txt.isInvalidTweet(e)},r.txt.isValidUsername=function(e){if(!e)return!1;var t=r.txt.extractMentions(e);return 1===t.length&&t[0]===e.slice(1)};var v=e(/^#{validMentionOrList}$/);if(r.txt.isValidList=function(e){var t=e.match(v);return!(!t||""!=t[1]||!t[4])},r.txt.isValidHashtag=function(e){if(!e)return!1;var t=r.txt.extractHashtags(e);return 1===t.length&&t[0]===e.slice(1)},r.txt.isValidUrl=function(e,t,n){if(null==t&&(t=!0),null==n&&(n=!0),!e)return!1;var i=e.match(r.txt.regexen.validateUrlUnencoded);if(!i||i[0]!==e)return!1;var s=i[1],a=i[2],l=i[3],c=i[4],d=i[5];return(!n||o(s,r.txt.regexen.validateUrlScheme)&&s.match(/^https?$/i))&&o(l,r.txt.regexen.validateUrlPath)&&o(c,r.txt.regexen.validateUrlQuery,!0)&&o(d,r.txt.regexen.validateUrlFragment,!0)?t&&o(a,r.txt.regexen.validateUrlUnicodeAuthority)||!t&&o(a,r.txt.regexen.validateUrlAuthority):!1},"undefined"!=typeof module&&module.exports&&(module.exports=r.txt),"undefined"!=typeof window)if(window.twttr)for(var b in r)window.twttr[b]=r[b];else window.twttr=r}();var app=angular.module("app",["angularFileUpload","ngSanitize"]);app.run(["$rootScope",function(e){e.baseURL=baseURL?baseURL:"https://sailr.co",e.loggedInUser=loggedInUser}]);var openFileBrowser=function(){document.getElementById("addFiles").click()};app.directive("contenteditable",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){function o(){var e=t.html();n.stripBr&&"<br>"==e&&(e=""),i.$setViewValue(e)}i&&(i.$render=function(){t.html(i.$viewValue)},t.on("blur keyup change input",function(){e.$apply(o)}),o())}}}),app.directive("num-binding",function(){return{restrict:"A",require:"ngModel",scope:{model:"=ngModel"},link:function(e){e.model&&"string"==typeof e.model&&(e.model=parseInt(e.model))}}}),app.directive("sailrFooter",["$document","$window",function(e,t){return{scope:!1,link:function(e,n){var i=function(){var e=document.body.scrollHeight|document.body.clientHeight>t.innerHeight,i=t.document.body.scrollHeight,o=i+"px";n.css(e?{position:"relative",top:"100%"}:{position:"absolute",top:o})};i(),e.$watch(t.innerHeight,function(){i()})}}}]),app.directive("sailrOpactiy",function(){function e(e,t,n){e.sailrOpacity=n.sailrOpacity,t.css({opacity:e.sailrOpacity})}return{restrict:"A",scope:{sailrOpacity:"@"},link:e}}),app.directive("sailrComments",function(){return{restrict:"AE",require:"^sailrProductId",scope:{sailrProductId:"@"},controller:["$scope","$http","CommentsFactory",function(e,t,n){e.comments=[],e.commentOpacity=1,e.webError=!1,e.newComment={},e.loggedInUser=loggedInUser,e.item_id=0,e.getComments=function(t){e.item_id=t;var i=n.getComments(e.item_id);i.then(function(t){e.comments=t.data},function(t){console.log(t),e.webError=!0})},e.postNewComment=function(){var t=e.comments.unshift({item_id:e.item_id,comment:e.newComment.comment,created_at:new Date,user:loggedInUser}),i=n.postNewComment(e.newComment.comment,e.item_id);console.log(n),console.log(i),i.then(function(t){console.log(t),e.newComment.comment=""},function(n){console.log(n),e.comments=e.comments.splice(1,t)})}}],templateUrl:baseURL+"/js/templates/comments/master.html",link:function(e,t,n){e.getComments(n.sailrProductId),e.item_id=n.sailrProductId}}}),app.directive("sailrProductId",function(){return{controller:["$scope",function(){}]}}),app.directive("sailrComment",function(){return{restrict:"AE",scope:{profileImageUrl:"@",username:"@",name:"@",commentText:"@"},controller:["$scope",function(){}],link:function(e,t,n){e.username=n.username,e.name=n.name,e.profileImageUrl=n.profileImageUrl,e.commentText=n.commentText,e.baseURL=baseURL},templateUrl:baseURL+"/js/templates/comments/comment-item.html"}}),app.directive("sailrEntityLink",function(){return{priority:-1,restrict:"AE",scope:!1,link:function(e,t,n){e.$watch(n.sailrEntityLink,function(){var e=t.html();t.html(twttr.txt.autoLink(e))})}}}),app.directive("sailrFeedOnboardBox",function(){return{restrict:"E",scope:!1,templateUrl:baseURL+"/js/templates/onboard/feed/onboard-box.html"}}),app.directive("sailrNumberOfProducts",function(){return{restrict:"A",controller:["$scope",function(){}]}}),app.directive("sailrOffsetBy",function(){return{restrict:"A",controller:["$scope",function(){}]}}),app.directive("sailrProductPreview",function(){return{restrict:"AE",scope:{productTitle:"@",productPreviewImageUrl:"@",productLinkUrl:"@",productSellerUsername:"@",productSellerName:"@",productSellerUrl:"@"},templateUrl:baseURL+"/js/templates/onboard/recent/products/product-preview.html"}}),app.directive("sailrRecentProducts",function(){return{restrict:"AE",require:["sailrNumberOfProducts","sailrOffsetBy"],scope:{sailrNumberOfProducts:"@",sailrOffsetBy:"@"},controller:["$scope","$http","OnboardFactory",function(e,t,n){e.baseURL=baseURL,e.products=[],e.initialValue=0,e.getProducts=function(t,i){n.getRecentProducts(t,i).success(function(t){angular.forEach(t,function(t){e.products.push(t)})}).error(function(){e.webError=!0})}}],templateUrl:baseURL+"/js/templates/onboard/recent/products/master.html",link:function(e,t,n){var i=function(t,n){return e.getProducts(n,t),!0};e.$watch(function(){return[n.sailrNumberOfProducts,n.sailrOffsetBy]},function(){i(e.sailrNumberOfProducts,e.sailrOffsetBy)},!0)}}}),app.directive("focusMe",["$timeout","$parse",function(e,t){return{link:function(n,i,o){var r=t(o.focusMe);n.$watch(r,function(t){console.log("value=",t),t===!0&&e(function(){i[0].focus()})})}}}]),app.factory("OnboardFactory",["$http",function(e){var t={};return t.getRecentProducts=function(t,n){console.log("OFFSET IS ::"+t),console.log("LIMIT IS:: "+n);var i=baseURL+"/onboard/recent/products/"+t+"/"+n;return e.get(i)},t}]),app.factory("StripeFactory",["$q",function(e){var t={};return t.sayHello=function(){return"HELLO FROM STRIPE FACTORY"},t.setPublishableKey=function(e){Stripe.setPublishableKey(e)},t.createToken=function(n){var i=e.defer();return Stripe.card.createToken(n,function(e,n){n.error?(t.errors=n.error,i.reject(n)):(t.token=n,i.resolve(n))}),i.promise},t.getToken=function(){return t.token},t.getErrors=function(){return t.errors},t}]),app.factory("HelperFactory",function(){var e={};return e.stripWhiteSpace=function(e){return e=e.replace(/\s/g,"")},e.createStripeCardObjectFromFormattedInput=function(t){var n={},i=e.stripWhiteSpace(t.expiry).split("/");return n={number:e.stripWhiteSpace(t.number),cvc:e.stripWhiteSpace(t.cvc),exp_month:i[0],exp_year:i[1]},"undefined"!=typeof t.name&&t.name.length>0&&(n.name=t.name),n},e}),app.factory("SubscriptionFactory",["$q","$rootScope","$http",function(e,t,n){var i={};return i.subscriptionURL=baseURL+"/settings/subscription",console.log("SUBSCRIPTION URL:: "+i.subscriptionURL),i.sayHello=function(){return"HELLO FROM STRIPE FACTORY"},i.createSubscription=function(t,o,r){var s={_token:csrfToken,stripeToken:o,plan:"awesome"};"undefined"!=typeof r&&r.length>0&&(s.coupon=r);var a=e.defer();return n.post(i.subscriptionURL,s).success(function(e){a.resolve(e)}).error(function(e,t,n,i){var o={data:e,status:t,headers:n,config:i};a.reject(o)}),a.promise},i.cancelSubscription=function(){var t={_token:csrfToken},o=e.defer();return n.post(i.subscriptionURL+"/delete",t).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise},i}]),app.factory("CommentsFactory",["$q","$http",function(e,t){var n={};return n.sayHello=function(){return console.log("Hello from CommentsFactory"),"Hello from CommentFactory"},n.postNewComment=function(n,i){console.log("Add new comment function called");var o={_token:csrfToken,comment:n,item_id:i},r=e.defer();return console.log("BASE URL:: "+baseURL),console.log(o),t.post(baseURL+"/comments",o).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise},n.getComments=function(n){var i=e.defer();return t.get(baseURL+"/username/product/"+n+"/comments").success(function(e){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},n}]),app.controller("homeController",["$scope",function(e){e.numberOfProducts=3,e.alreadyLoadedNumber=e.numberOfProducts,e.offsetLoadProducts=0,e.loadMoreButtonPressCount=0,e.showNowSignupText=!1,e.loadMore=function(t){e.alreadyLoadedNumber=e.numberOfProducts+e.offsetLoadProducts,e.numberOfProducts=t,e.offsetLoadProducts=e.alreadyLoadedNumber,e.loadMoreButtonPressCount++,e.loadMoreButtonPressCount>2&&!e.showNowSignupText&&(e.showNowSignupText=!0)}}]),app.controller("billingController",["$scope","$http","HelperFactory","StripeFactory",function(e,t,n,i){e.showUpdateCard=!1,e.baseURL=baseURL,e.card={},e.token={},e.posting=!1,e.card.name=loggedInUser.name,e.card.last4=last4,e.card.type=cardType,e.subscription=subscription,e.updateCard=function(){e.posting=!0;var t=n.createStripeCardObjectFromFormattedInput(e.card),o=i.createToken(t);o.then(function(t){console.log(t),console.log("SUCCESS!"),console.log(i.getToken()),e.token=i.getToken(),e.token.id=i.getToken().id,e.submitUpdate()},function(t){e.posting=!1,console.log("Stripe card fail::::"),console.log(t),humane.log(i.getErrors().message)})},e.submitUpdate=function(){e.posting=!0;var n={stripeToken:e.token.id,_token:csrfToken};t.put(e.baseURL+"/settings/billing",n).success(function(t){e.posting=!1,humane.log(t.message),e.card.last4=e.token.card.last4,e.card.type=e.token.card.type,e.showUpdateCard&&(e.showUpdateCard=!1)}).error(function(t){e.posting=!1,humane.log(t?t.message:"We're afraid something went wrong and the card didn't update"),e.showUpdateCard&&(e.showUpdateCard=!1)})},e.toggleShowingForm=function(){e.showUpdateCard=!e.showUpdateCard}}]),app.controller("feedContentController",["$scope",function(e){e.numberOfProducts=6,e.alreadyLoadedNumber=e.numberOfProducts,e.offsetLoadProducts=0,e.loadMoreRecentProducts=function(t){e.alreadyLoadedNumber=e.numberOfProducts+e.offsetLoadProducts,e.numberOfProducts=t,e.offsetLoadProducts=e.alreadyLoadedNumber}}]),app.controller("feedController",["$scope","$http",function(e){e.baseURL=baseURL,e.submitSearchForm=function(){window.location=e.baseURL+"/s/"+encodeURIComponent(e.searchText)}}]),app.controller("editController",["$scope","$http","$upload","$timeout",function(e,t,n,i){"undefined"!=typeof itemModel&&(itemModel.price=parseFloat(itemModel.price),itemModel.initial_units=parseFloat(itemModel.initial_units),itemModel.ship_price=parseFloat(itemModel.ship_price),itemModel.public=parseInt(itemModel.public)),e.countries=countries,e.currencies=currencies,e.item={},itemModel.ships_to.length<1&&(itemModel.ships_to=void 0),e.item=itemModel,e.photos=[],e.dataUrls=[],"photos"in e.item&&(e.photos=e.item.photos),document.getElementById("title-heading").innerText=e.item.title,document.getElementById("item-description").innerHTML=e.item.description,document.scope=e,e.buttonPressed=function(){console.log(e.desc),console.log(e)},e.saveChanges=function(){e.posting=!0;var n=e.item;n._token=sessionToken,console.log("the data to be sent is "+JSON.stringify(n)),t.put(updateURL,JSON.stringify(n)).success(function(t){e.posting=!1,e.responseData=t,console.log("The response data is: "),console.log(e.responseData),e.item.description=t.description}).error(function(t){e.posting=!1,console.log(t)})},e.toggleVisibility=function(){e.saveChanges(),e.posting=!0;var n={_token:sessionToken};console.log("the data to be sent is "+JSON.stringify(n)),t.put(updateURL+"/toggle-visibility",JSON.stringify(n)).success(function(t){e.item.public=t.public,e.posting=!1,humane.log(t.message),console.log("The response data is: "),console.log(t)}).error(function(t){e.posting=!1,console.log(t),t.message&&humane.log(t.message),t.errors&&(console.log("ERORROS ARE"),console.log(t.errors),humane.log(t.errors))})},e.tempURL="",e.uploading=!1,e.onFileSelect=function(t){if(e.uploading)return void humane.log("One at a time please.");for(var o=0;o<t.length;o++){if(t.length>1){humane.log("Please only one photo at a time.. We are only new here.");break}var r=t[o];if(window.FileReader&&r.type.indexOf("image")>-1){var s=new FileReader;s.readAsDataURL(t[o]);var a=!1;if(r.size>7340032)return a=!0,console.log("File too large."),void humane.log("File is too large. Please try compressing it first.");console.log("not too big");{(function(t,n){t.onload=function(t){i(function(){e.dataUrls[n]=t.target.result,console.log(t.target.result),e.photos.push({url:t.target.result}),e.tempURL=t.target.result})}})(s,o)}}console.log(r),humane.log("Uploading..."),e.uploading=!0,e.upload=n.upload({url:baseURL+"/photo/upload/"+itemModel.id,data:{_token:csrfToken},file:r,fileFormDateName:"photo"}).progress(function(e){console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(t,n,i){e.photos[e.photos.length-1].set_id=t.set_id,e.photos[e.photos.length-1].url=t.url,humane.log("Photo successfully uploaded!"),console.log(t),console.log(n),console.log(i),e.uploading=!1}).error(function(t,n,i){e.photos=e.photos.slice(e.photos.length-1,1),humane.log("Upload failed. "+t),console.log(t),console.log(n),console.log(i),e.uploading=!1})}},e.showCropBox=function(e){var t=new Image;t.src=e.target.result,t.onload=function(){function e(e){n.width=n.height=100;var t=n.getContext("2d");t.drawImage(o,e.x,e.y,e.w,e.h,0,0,n.width,n.height),$("#image_output").attr("src",n.toDataURL()),$("#image_source").text(n.toDataURL())}var n=document.createElement("canvas");n.width=300,n.height=t.height*(300/t.width);var i=n.getContext("2d");i.drawImage(t,0,0,n.width,n.height),$("#image_input").html(['<img src="',n.toDataURL(),'"/>'].join(""));var o=$("#image_input img")[0],n=document.createElement("canvas");$("#image_input img").Jcrop({bgColor:"black",bgOpacity:.6,setSelect:[0,0,100,100],aspectRatio:1,keySupport:!1,onChange:e})}},e.deletePhoto=function(n){var i=e.photos[n],o=i.set_id;i.deleted=!0;var r=baseURL+"/photo/"+e.item.id,s={set_id:o,_token:csrfToken,_method:"DELETE"};humane.log("Deleting..."),t.put(r,JSON.stringify(s)).success(function(t){e.responseData=t,console.log("The response data is: "),console.log(e.responseData),humane.log("Photo deleted successfully"),e.item.public&&t.message&&humane.log(t.message),t.item&&(e.item.public=t.item.public),e.photos.splice(n,1)}).error(function(e){console.log(e),humane.log("Photo deletion failed."),i.deleted=!1})}}]),app.controller("indexController",["$scope","$http",function(e,t){e.currency="USD",e.codes=currencyCodes,e.handleCodeChange=function(t){e.currency=e.codes[t],console.log(e.currency)},e.toggleAdd=function(){e.shouldShowAdd=!e.shouldShowAdd,$("#addItem").slideToggle(300)},e.formSubmit=function(){e.posting=!0,e.formData={_token:csrfToken,title:e.title,currency:e.currency,price:e.price},console.log(e.formData),t.post("/products",JSON.stringify(e.formData)).success(function(t){e.responseData=t,t.message&&(e.posting=!1,humane.log(t.message)),t.redirect_url&&(window.location=e.responseData.redirect_url),e.posting=!1}).error(function(){e.posting=!1})}}]),app.controller("showController",["$scope",function(e){e.item=item,e.user=e.item.user,e.profile_img_url=e.user.profile_img.url}]),app.controller("notificationsController",["$scope",function(e){e.notifications=sailr.notifications,e.baseURL=baseURL}]),app.controller("chooseController",["$scope","$http","$q","StripeFactory","HelperFactory","SubscriptionFactory",function(e,t,n,i,o,r){e.showingCreditForm=!1,e.showCardForm=!1,e.posting=!1,e.showCoupon=!1,e.couponCode="",e.card={},e.toggleCouponShow=function(){e.showCoupon=!e.showCoupon},e.subscribeToPlan=function(t){console.log("PLAN ID::: "+t),e.posting=!0;var n=o.createStripeCardObjectFromFormattedInput(e.card),s=i.createToken(n);s.then(function(n){if(console.log(n),console.log(i.getToken()),e.couponCode)var o=r.createSubscription(t,i.getToken().id,e.couponCode);else var o=r.createSubscription(t,i.getToken().id);o.then(function(t){e.posting=!1,e.showCardForm=!1,console.log("SUCCESS on server subscription create"),console.log(t),humane.log(t.message),window.location=t.redirect_url},function(t){e.posting=!1,e.$apply(function(){e.posting=!1}),console.log("Subscription fail::   --"),console.log(t),humane.log(t.data.message)})},function(t){e.posting=!1,console.log("Stripe card fail::::"),console.log(t),humane.log(i.getErrors().message)})},e.handleSubscribeButtonPressed=function(){e.showingCreditForm||(e.showCardForm=!0,e.showingCreditForm=!0)}}]),app.controller("manageController",["$scope","$http","$q","SubscriptionFactory","$rootScope",function(e,t,n,i){e.posting=!1,e.subscription=subscription,e.user=user,e.cancelSubscription=function(){e.posting=!0;var t=i.cancelSubscription();t.then(function(t){e.posting=!1,e.subscription.cancel_at_period_end=!0,humane.log(t.message)},function(t){e.posting=!1,e.$apply(),humane.log(t.message)})}}]),app.controller("searchController",["$scope","$http",function(e){e.results=sailr.results,e.baseURL=baseURL}]),app.controller("updateController",["$scope",function(e){e.showSubmit=!1,$("#addFiles").on("change",function(){e.$apply(function(){e.showSubmit=!0})}),e.user={},e.fileButtonText="Select new profile photo",e.user=loggedInUser,e.user.username=$("input#username").val(),e.profileURL=profileImageURL}]),function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(){(function(){var e,t,n,i,o,r,s,a,l,c,d,u,p,h,f,m,g,v,b,y=[].slice,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?y.call(arguments,1):[],e.payment.fn[n].apply(this,t)},o=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:o,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,o;for(e=(e+"").replace(/\D/g,""),n=0,o=i.length;o>n;n++)if(t=i[n],t.pattern.test(e))return t},n=function(e){var t,n,o;for(n=0,o=i.length;o>n;n++)if(t=i[n],t.type===e)return t},p=function(e){var t,n,i,o,r,s;for(i=!0,o=0,n=(e+"").split("").reverse(),r=0,s=n.length;s>r;r++)t=n[r],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),o+=t;return o%10===0},u=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)&&"function"==typeof t.createRange?t.createRange().text:void 0)?!0:!1},h=function(t){return setTimeout(function(){return function(){var n,i;return n=e(t.currentTarget),i=n.val(),i=e.payment.formatCardNumber(i),n.val(i)}}(this))},a=function(n){var i,o,r,s,a,l,c;return r=String.fromCharCode(n.which),!/^\d+$/.test(r)||(i=e(n.currentTarget),c=i.val(),o=t(c+r),s=(c.replace(/\D/g,"")+r).length,l=16,o&&(l=o.length[o.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==c.length)?void 0:(a=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(c)?(n.preventDefault(),i.val(c+" "+r)):a.test(c+r)?(n.preventDefault(),i.val(c+r+" ")):void 0)},r=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),t.meta||8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(t.preventDefault(),n.val(i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(t){var n,i,o;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),o=n.val()+i,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(t.preventDefault(),n.val("0"+o+" / ")):/^\d\d$/.test(o)?(t.preventDefault(),n.val(""+o+" / ")):void 0):void 0},c=function(t){var n,i,o;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),o=n.val(),/^\d\d$/.test(o)?n.val(""+o+" / "):void 0):void 0},d=function(t){var n,i,o;return i=String.fromCharCode(t.which),"/"===i?(n=e(t.currentTarget),o=n.val(),/^\d$/.test(o)&&"0"!==o?n.val("0"+o+" / "):void 0):void 0},s=function(t){var n,i;if(!t.meta&&(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(t.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},m=function(n){var i,o,r,s;return i=e(n.currentTarget),r=String.fromCharCode(n.which),/^\d+$/.test(r)&&!u(i)?(s=(i.val()+r).replace(/\D/g,""),o=t(s),o?s.length<=o.length[o.length.length-1]:s.length<=16):void 0},g=function(t){var n,i,o;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!u(n)?(o=n.val()+i,o=o.replace(/\D/g,""),o.length>6?!1:void 0):void 0},f=function(t){var n,i,o;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!u(n)?(o=n.val()+i,o.length<=4):void 0},b=function(t){var n,o,r,s,a;return n=e(t.currentTarget),a=n.val(),s=e.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(o=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)r=i[e],n.push(r.type);return n}(),n.removeClass("unknown"),n.removeClass(o.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},e.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},e.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",d),this.on("keypress",c),this.on("keydown",s),this},e.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",r),this.on("keyup",b),this.on("paste",h),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i,o;return e=e.replace(/\s/g,""),o=e.split("/",2),t=o[0],i=o[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(n=t(e),n?(i=e.length,x.call(n.length,i)>=0&&(n.luhn===!1||p(e))):!1):!1},e.payment.validateCardExpiry=function(){return function(t,n){var i,o,r,s;return"object"==typeof t&&"month"in t&&(s=t,t=s.month,n=s.year),t&&n?(t=e.trim(t),n=e.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&parseInt(t,10)<=12?(2===n.length&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),n=r+n),o=new Date(n,t),i=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>i):!1):!1}}(this),e.payment.validateCardCVC=function(t,i){var o,r;return t=e.trim(t),/^\d+$/.test(t)?i?(o=t.length,x.call(null!=(r=n(i))?r.cvcLength:void 0,o)>=0):t.length>=3&&t.length<=4:!1},e.payment.cardType=function(e){var n;return e?(null!=(n=t(e))?n.type:void 0)||null:null},e.payment.formatCardNumber=function(e){var n,i,o,r;return(n=t(e))?(o=n.length[n.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+o+1||9e9),n.format.global?null!=(r=e.match(n.format))?r.join(" "):void 0:(i=n.format.exec(e),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):e}}).call(this)},{}],2:[function(e){var t,n,i=[].slice;e("jquery.payment"),t=jQuery,t.card={},t.card.fn={},t.fn.card=function(e){return t.card.fn.construct.apply(this,e)},n=function(){function e(e,n){return this.options=t.extend(!0,{},this.defaults,n),t.extend(this.options.messages,t.card.messages),t.extend(this.options.values,t.card.values),this.$el=t(e),this.options.container?(this.$container=t(this.options.container),this.render(),this.attachHandlers(),void this.handleInitialValues()):void console.log("Please provide a container")}return e.prototype.cardTemplate='<div class="card-container">\n    <div class="card">\n        <div class="front">\n                <div class="card-logo visa">visa</div>\n                <div class="card-logo mastercard">MasterCard</div>\n                <div class="card-logo amex"></div>\n                <div class="card-logo discover">discover</div>\n            <div class="lower">\n                <div class="shiny"></div>\n                <div class="cvc display">{{cvc}}</div>\n                <div class="number display">{{number}}</div>\n                <div class="name display">{{name}}</div>\n                <div class="expiry display" data-before="{{monthYear}}" data-after="{{validDate}}">{{expiry}}</div>\n            </div>\n        </div>\n        <div class="back">\n            <div class="bar"></div>\n            <div class="cvc display">{{cvc}}</div>\n            <div class="shiny"></div>\n        </div>\n    </div>\n</div>',e.prototype.template=function(e,t){return e.replace(/\{\{(.*?)\}\}/g,function(e,n){return t[n]})},e.prototype.cardTypes=["maestro","dinersclub","laser","jcb","unionpay","discover","mastercard","amex","visa"],e.prototype.defaults={formatting:!0,formSelectors:{numberInput:'input[name="number"]',expiryInput:'input[name="expiry"]',cvcInput:'input[name="cvc"]',nameInput:'input[name="name"]'},cardSelectors:{cardContainer:".card-container",card:".card",numberDisplay:".number",expiryDisplay:".expiry",cvcDisplay:".cvc",nameDisplay:".name"},messages:{validDate:"valid\nthru",monthYear:"month/year"},values:{number:"&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;",cvc:"&bull;&bull;&bull;",expiry:"&bull;&bull;/&bull;&bull;",name:"Full Name"},classes:{valid:"card-valid",invalid:"card-invalid"}},e.prototype.render=function(){var e,n;return this.$container.append(this.template(this.cardTemplate,t.extend({},this.options.messages,this.options.values))),t.each(this.options.cardSelectors,function(e){return function(t,n){return e["$"+t]=e.$container.find(n)}}(this)),t.each(this.options.formSelectors,function(e){return function(n,i){var o;return o=e.options[n]?t(e.options[n]):e.$el.find(i),o.length||console.error("Card can't find a "+n+" in your form."),e["$"+n]=o}}(this)),this.options.formatting&&(this.$numberInput.payment("formatCardNumber"),this.$cvcInput.payment("formatCardCVC"),1===this.$expiryInput.length&&this.$expiryInput.payment("formatCardExpiry")),this.options.width&&(e=parseInt(this.$cardContainer.css("width")),this.$cardContainer.css("transform","scale("+this.options.width/e+")")),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)&&(n=navigator.userAgent.toLowerCase(),-1!==n.indexOf("safari")&&-1===n.indexOf("chrome")&&this.$card.addClass("safari")),new Function("/*@cc_on return @_jscript_version; @*/")()?this.$card.addClass("ie-10"):void 0},e.prototype.attachHandlers=function(){var e;return this.$numberInput.bindVal(this.$numberDisplay,{fill:!1,filters:this.validToggler("cardNumber")}).on("payment.cardType",this.handle("setCardType")),e=[function(e){return e.replace(/(\s+)/g,"")}],1===this.$expiryInput.length&&(e.push(this.validToggler("cardExpiry")),this.$expiryInput.on("keydown",this.handle("captureTab"))),this.$expiryInput.bindVal(this.$expiryDisplay,{join:function(e){return 2===e[0].length||e[1]?"/":""},filters:e}),this.$cvcInput.bindVal(this.$cvcDisplay,{filters:this.validToggler("cardCVC")}).on("focus",this.handle("flipCard")).on("blur",this.handle("flipCard")),this.$nameInput.bindVal(this.$nameDisplay,{fill:!1,filters:this.validToggler("cardHolderName"),join:" "}).on("keydown",this.handle("captureName"))},e.prototype.handleInitialValues=function(){return t.each(this.options.formSelectors,function(e){return function(t){var n;return n=e["$"+t],n.val()?(n.trigger("paste"),setTimeout(function(){return n.trigger("keyup")})):void 0}}(this))},e.prototype.handle=function(e){return function(n){return function(i){var o,r;return o=t(i.currentTarget),r=Array.prototype.slice.call(arguments),r.unshift(o),n.handlers[e].apply(n,r)}}(this)},e.prototype.validToggler=function(e){var n;return"cardExpiry"===e?n=function(e){var n;return n=t.payment.cardExpiryVal(e),t.payment.validateCardExpiry(n.month,n.year)}:"cardCVC"===e?n=function(e){return function(n){return t.payment.validateCardCVC(n,e.cardType)}}(this):"cardNumber"===e?n=function(e){return t.payment.validateCardNumber(e)}:"cardHolderName"===e&&(n=function(e){return""!==e}),function(e){return function(t,i,o){var r;return r=n(t),e.toggleValidClass(i,r),e.toggleValidClass(o,r),t}}(this)},e.prototype.toggleValidClass=function(e,t){return e.toggleClass(this.options.classes.valid,t),e.toggleClass(this.options.classes.invalid,!t)},e.prototype.handlers={setCardType:function(e,t,n){return this.$card.hasClass(n)?void 0:(this.$card.removeClass("unknown"),this.$card.removeClass(this.cardTypes.join(" ")),this.$card.addClass(n),this.$card.toggleClass("identified","unknown"!==n),this.cardType=n)},flipCard:function(){return this.$card.toggleClass("flipped")},captureTab:function(e,n){var i,o;return i=n.keyCode||n.which,9===i&&!n.shiftKey&&(o=e.payment("cardExpiryVal"),o.month||o.year)?t.payment.validateCardExpiry(o.month,o.year)?void 0:n.preventDefault():void 0},captureName:function(e,t){var n;return n=[48,49,50,51,52,53,54,55,56,57,106,107,109,110,111,186,187,188,189,190,191,192,219,220,221,222],-1!==n.indexOf(t.which||t.keyCode)?t.preventDefault():void 0}},t.fn.bindVal=function(e,n){var i,o,r,s,a;return null==n&&(n={}),n.fill=n.fill||!1,n.filters=n.filters||[],n.filters instanceof Array||(n.filters=[n.filters]),n.join=n.join||"","function"!=typeof n.join&&(r=n.join,n.join=function(){return r}),i=t(this),a=function(){var t,n,i;for(i=[],o=t=0,n=e.length;n>t;o=++t)s=e[o],i.push(e.eq(o).text());return i}(),i.on("focus",function(){return e.addClass("focused")}),i.on("blur",function(){return e.removeClass("focused")}),i.on("keyup change paste",function(){var r,l,c,d,u,p,h,f,m,g;for(d=i.map(function(){return t(this).val()}).get(),l=n.join(d),d=d.join(l),d===l&&(d=""),m=n.filters,u=0,h=m.length;h>u;u++)r=m[u],d=r(d,i,e);for(g=[],o=p=0,f=e.length;f>p;o=++p)s=e[o],c=n.fill?d+a[o].substring(d.length):d||a[o],g.push(e.eq(o).text(c));
return g}),i},e}(),t.fn.extend({card:function(){var e,o;return o=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],this.each(function(){var i,r;return i=t(this),r=i.data("card"),r||i.data("card",r=new n(this,o)),"string"==typeof o?r[o].apply(r,e):void 0})}})},{"jquery.payment":1}]},{},[2]),"object"==typeof module&&(module.exports=MediumEditor),function(e,t){"use strict";function n(e,t){var n;if(void 0===e)return t;for(n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)===!1&&(e[n]=t[n]);return e}function i(){var t,n,i,o=e.getSelection();if(o.getRangeAt&&o.rangeCount){for(i=[],t=0,n=o.rangeCount;n>t;t+=1)i.push(o.getRangeAt(t));return i}return null}function o(t){var n,i,o=e.getSelection();if(t)for(o.removeAllRanges(),n=0,i=t.length;i>n;n+=1)o.addRange(t[n])}function r(){var e=t.getSelection().anchorNode,n=e&&3===e.nodeType?e.parentNode:e;return n}function s(){var n,i,o,r,s="";if(void 0!==e.getSelection){if(i=e.getSelection(),i.rangeCount){for(r=t.createElement("div"),n=0,o=i.rangeCount;o>n;n+=1)r.appendChild(i.getRangeAt(n).cloneContents());s=r.innerHTML}}else void 0!==t.selection&&"Text"===t.selection.type&&(s=t.selection.createRange().htmlText);return s}function a(e){return!(!e||1!==e.nodeType)}MediumEditor.prototype={defaults:{allowMultiParagraphSelection:!0,anchorInputPlaceholder:"Paste or type a link",anchorPreviewHideDelay:500,buttons:["bold","italic","underline","anchor","header1","header2","quote"],buttonLabels:!1,checkLinkFormat:!1,cleanPastedHTML:!1,delay:0,diffLeft:0,diffTop:-10,disableReturn:!1,disableDoubleReturn:!1,disableToolbar:!1,disableEditing:!1,elementsContainer:!1,firstHeader:"h3",forcePlainText:!0,placeholder:"Type your text",secondHeader:"h4",targetBlank:!1,extensions:{},activeButtonClass:"medium-editor-button-active",firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last"},isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),init:function(e,i){return this.setElementSelection(e),0!==this.elements.length?(this.parentElements=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.id=t.querySelectorAll(".medium-editor-toolbar").length+1,this.options=n(i,this.defaults),this.setup()):void 0},setup:function(){this.isActive=!0,this.initElements().bindSelect().bindPaste().bindWindowActions()},initElements:function(){this.updateElementList();var e,n=!1;for(e=0;e<this.elements.length;e+=1)this.options.disableEditing||this.elements[e].getAttribute("data-disable-editing")||this.elements[e].setAttribute("contentEditable",!0),this.elements[e].setAttribute("data-medium-element",!0),this.bindParagraphCreation(e).bindReturn(e).bindTab(e),this.options.disableToolbar||this.elements[e].getAttribute("data-disable-toolbar")||(n=!0);return n&&(this.options.elementsContainer||(this.options.elementsContainer=t.body),this.initToolbar().bindButtons().bindAnchorForm().bindAnchorPreview()),this},setElementSelection:function(e){this.elementSelection=e,this.updateElementList()},updateElementList:function(){this.elements="string"==typeof this.elementSelection?t.querySelectorAll(this.elementSelection):this.elementSelection,1===this.elements.nodeType&&(this.elements=[this.elements])},serialize:function(){var e,t,n={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,n[t]={value:this.elements[e].innerHTML.trim()};return n},callExtensions:function(e){if(!(arguments.length<1)){var t,n,i=Array.prototype.slice.call(arguments,1);for(n in this.options.extensions)this.options.extensions.hasOwnProperty(n)&&(t=this.options.extensions[n],void 0!==t[e]&&t[e].apply(t,i))}},bindParagraphCreation:function(e){var n=this;return this.elements[e].addEventListener("keypress",function(e){var n,i=r();32===e.which&&(n=i.tagName.toLowerCase(),"a"===n&&t.execCommand("unlink",!1,null))}),this.elements[e].addEventListener("keyup",function(e){var i,o=r();o&&o.getAttribute("data-medium-element")&&0===o.children.length&&!n.options.disableReturn&&!o.getAttribute("data-disable-return")&&t.execCommand("formatBlock",!1,"p"),13===e.which&&(o=r(),i=o.tagName.toLowerCase(),n.options.disableReturn||this.getAttribute("data-disable-return")||"li"===i||n.isListItemChild(o)||(e.shiftKey||t.execCommand("formatBlock",!1,"p"),"a"===i&&t.execCommand("unlink",!1,null)))}),this},isListItemChild:function(e){for(var t=e.parentNode,n=t.tagName.toLowerCase();-1===this.parentElements.indexOf(n)&&"div"!==n;){if("li"===n)return!0;if(t=t.parentNode,!t||!t.tagName)return!1;n=t.tagName.toLowerCase()}return!1},bindReturn:function(e){var t=this;return this.elements[e].addEventListener("keypress",function(e){if(13===e.which)if(t.options.disableReturn||this.getAttribute("data-disable-return"))e.preventDefault();else if(t.options.disableDoubleReturn||this.getAttribute("data-disable-double-return")){var n=r();n&&"\n"===n.innerText&&e.preventDefault()}}),this},bindTab:function(e){return this.elements[e].addEventListener("keydown",function(e){if(9===e.which){var n=r().tagName.toLowerCase();"pre"===n&&(e.preventDefault(),t.execCommand("insertHtml",null,"    "))}}),this},buttonTemplate:function(e){var t=this.getButtonLabels(this.options.buttonLabels),n={bold:'<button class="medium-editor-action medium-editor-action-bold" data-action="bold" data-element="b">'+t.bold+"</button>",italic:'<button class="medium-editor-action medium-editor-action-italic" data-action="italic" data-element="i">'+t.italic+"</button>",underline:'<button class="medium-editor-action medium-editor-action-underline" data-action="underline" data-element="u">'+t.underline+"</button>",strikethrough:'<button class="medium-editor-action medium-editor-action-strikethrough" data-action="strikethrough" data-element="strike"><strike>A</strike></button>',superscript:'<button class="medium-editor-action medium-editor-action-superscript" data-action="superscript" data-element="sup">'+t.superscript+"</button>",subscript:'<button class="medium-editor-action medium-editor-action-subscript" data-action="subscript" data-element="sub">'+t.subscript+"</button>",anchor:'<button class="medium-editor-action medium-editor-action-anchor" data-action="anchor" data-element="a">'+t.anchor+"</button>",image:'<button class="medium-editor-action medium-editor-action-image" data-action="image" data-element="img">'+t.image+"</button>",header1:'<button class="medium-editor-action medium-editor-action-header1" data-action="append-'+this.options.firstHeader+'" data-element="'+this.options.firstHeader+'">'+t.header1+"</button>",header2:'<button class="medium-editor-action medium-editor-action-header2" data-action="append-'+this.options.secondHeader+'" data-element="'+this.options.secondHeader+'">'+t.header2+"</button>",quote:'<button class="medium-editor-action medium-editor-action-quote" data-action="append-blockquote" data-element="blockquote">'+t.quote+"</button>",orderedlist:'<button class="medium-editor-action medium-editor-action-orderedlist" data-action="insertorderedlist" data-element="ol">'+t.orderedlist+"</button>",unorderedlist:'<button class="medium-editor-action medium-editor-action-unorderedlist" data-action="insertunorderedlist" data-element="ul">'+t.unorderedlist+"</button>",pre:'<button class="medium-editor-action medium-editor-action-pre" data-action="append-pre" data-element="pre">'+t.pre+"</button>",indent:'<button class="medium-editor-action medium-editor-action-indent" data-action="indent" data-element="ul">'+t.indent+"</button>",outdent:'<button class="medium-editor-action medium-editor-action-outdent" data-action="outdent" data-element="ul">'+t.outdent+"</button>"};return n[e]||!1},getButtonLabels:function(e){var t,n,i={bold:"<b>B</b>",italic:"<b><i>I</i></b>",underline:"<b><u>U</u></b>",superscript:"<b>x<sup>1</sup></b>",subscript:"<b>x<sub>1</sub></b>",anchor:"<b>#</b>",image:"<b>image</b>",header1:"<b>H1</b>",header2:"<b>H2</b>",quote:"<b>&ldquo;</b>",orderedlist:"<b>1.</b>",unorderedlist:"<b>&bull;</b>",pre:"<b>0101</b>",indent:"<b>&rarr;</b>",outdent:"<b>&larr;</b>"};if("fontawesome"===e?t={bold:'<i class="fa fa-bold"></i>',italic:'<i class="fa fa-italic"></i>',underline:'<i class="fa fa-underline"></i>',superscript:'<i class="fa fa-superscript"></i>',subscript:'<i class="fa fa-subscript"></i>',anchor:'<i class="fa fa-link"></i>',image:'<i class="fa fa-picture-o"></i>',quote:'<i class="fa fa-quote-right"></i>',orderedlist:'<i class="fa fa-list-ol"></i>',unorderedlist:'<i class="fa fa-list-ul"></i>',pre:'<i class="fa fa-code fa-lg"></i>',indent:'<i class="fa fa-indent"></i>',outdent:'<i class="fa fa-outdent"></i>'}:"object"==typeof e&&(t=e),"object"==typeof t)for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},initToolbar:function(){return this.toolbar?this:(this.toolbar=this.createToolbar(),this.keepToolbarAlive=!1,this.anchorForm=this.toolbar.querySelector(".medium-editor-toolbar-form-anchor"),this.anchorInput=this.anchorForm.querySelector("input"),this.toolbarActions=this.toolbar.querySelector(".medium-editor-toolbar-actions"),this.anchorPreview=this.createAnchorPreview(),this)},createToolbar:function(){var e=t.createElement("div");return e.id="medium-editor-toolbar-"+this.id,e.className="medium-editor-toolbar",e.appendChild(this.toolbarButtons()),e.appendChild(this.toolbarFormAnchor()),this.options.elementsContainer.appendChild(e),e},toolbarButtons:function(){var e,n,i,o,r=this.options.buttons,s=t.createElement("ul");for(s.id="medium-editor-toolbar-actions",s.className="medium-editor-toolbar-actions clearfix",n=0;n<r.length;n+=1)this.options.extensions.hasOwnProperty(r[n])?(o=this.options.extensions[r[n]],i=void 0!==o.getButton?o.getButton():null):i=this.buttonTemplate(r[n]),i&&(e=t.createElement("li"),a(i)?e.appendChild(i):e.innerHTML=i,s.appendChild(e));return s},toolbarFormAnchor:function(){var e=t.createElement("div"),n=t.createElement("input"),i=t.createElement("a");return i.setAttribute("href","#"),i.innerHTML="&times;",n.setAttribute("type","text"),n.setAttribute("placeholder",this.options.anchorInputPlaceholder),e.className="medium-editor-toolbar-form-anchor",e.id="medium-editor-toolbar-form-anchor",e.appendChild(n),e.appendChild(i),e},bindSelect:function(){var e,n=this,i="";for(this.checkSelectionWrapper=function(e){return e&&n.clickingIntoArchorForm(e)?!1:(clearTimeout(i),void(i=setTimeout(function(){n.checkSelection()},n.options.delay)))},t.documentElement.addEventListener("mouseup",this.checkSelectionWrapper),e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("keyup",this.checkSelectionWrapper),this.elements[e].addEventListener("blur",this.checkSelectionWrapper);return this},checkSelection:function(){var t,n;return this.keepToolbarAlive===!0||this.options.disableToolbar||(t=e.getSelection(),""===t.toString().trim()||this.options.allowMultiParagraphSelection===!1&&this.hasMultiParagraphs()?this.hideToolbarActions():(n=this.getSelectionElement(),!n||n.getAttribute("data-disable-toolbar")?this.hideToolbarActions():this.checkSelectionElement(t,n))),this},clickingIntoArchorForm:function(e){var t=this;return e.type&&"blur"===e.type.toLowerCase()&&e.relatedTarget&&e.relatedTarget===t.anchorInput?!0:!1},hasMultiParagraphs:function(){var e=s().replace(/<[\S]+><\/[\S]+>/gim,""),t=e.match(/<(p|h[0-6]|blockquote)>([\s\S]*?)<\/(p|h[0-6]|blockquote)>/g);return t?t.length:0},checkSelectionElement:function(e,t){var n;for(this.selection=e,this.selectionRange=this.selection.getRangeAt(0),n=0;n<this.elements.length;n+=1)if(this.elements[n]===t)return void this.setToolbarButtonStates().setToolbarPosition().showToolbarActions();this.hideToolbarActions()},getSelectionElement:function(){var t,n,i,o,r=e.getSelection(),s=function(e){var t=e;try{for(;!t.getAttribute("data-medium-element");)t=t.parentNode}catch(n){return!1}return t};try{t=r.getRangeAt(0),n=t.commonAncestorContainer,i=n.parentNode,o=n.getAttribute("data-medium-element")?n:s(i)}catch(a){o=s(i)}return o},setToolbarPosition:function(){var t=50,n=e.getSelection(),i=n.getRangeAt(0),o=i.getBoundingClientRect(),r=this.options.diffLeft-this.toolbar.offsetWidth/2,s=(o.left+o.right)/2,a=this.toolbar.offsetWidth/2;return o.top<t?(this.toolbar.classList.add("medium-toolbar-arrow-over"),this.toolbar.classList.remove("medium-toolbar-arrow-under"),this.toolbar.style.top=t+o.bottom-this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"):(this.toolbar.classList.add("medium-toolbar-arrow-under"),this.toolbar.classList.remove("medium-toolbar-arrow-over"),this.toolbar.style.top=o.top+this.options.diffTop+e.pageYOffset-this.toolbar.offsetHeight+"px"),this.toolbar.style.left=a>s?r+a+"px":e.innerWidth-s<a?e.innerWidth+r-a+"px":r+s+"px",this.hideAnchorPreview(),this},setToolbarButtonStates:function(){var e,t=this.toolbarActions.querySelectorAll("button");for(e=0;e<t.length;e+=1)t[e].classList.remove(this.options.activeButtonClass);return this.checkActiveButtons(),this},checkActiveButtons:function(){for(var e=Array.prototype.slice.call(this.elements),t=this.getSelectedParentElement();void 0!==t.tagName&&-1===this.parentElements.indexOf(t.tagName.toLowerCase)&&(this.activateButton(t.tagName.toLowerCase()),this.callExtensions("checkState",t),-1===e.indexOf(t));)t=t.parentNode},activateButton:function(e){var t=this.toolbar.querySelector('[data-element="'+e+'"]');null!==t&&-1===t.className.indexOf(this.options.activeButtonClass)&&(t.className+=" "+this.options.activeButtonClass)},bindButtons:function(){var e,t=this.toolbar.querySelectorAll("button"),n=this,i=function(e){e.preventDefault(),e.stopPropagation(),void 0===n.selection&&n.checkSelection(),this.className.indexOf(n.options.activeButtonClass)>-1?this.classList.remove(n.options.activeButtonClass):this.className+=" "+n.options.activeButtonClass,this.hasAttribute("data-action")&&n.execAction(this.getAttribute("data-action"),e)};for(e=0;e<t.length;e+=1)t[e].addEventListener("click",i);return this.setFirstAndLastItems(t),this},setFirstAndLastItems:function(e){return e.length>0&&(e[0].className+=" "+this.options.firstButtonClass,e[e.length-1].className+=" "+this.options.lastButtonClass),this},execAction:function(n,i){n.indexOf("append-")>-1?(this.execFormatBlock(n.replace("append-","")),this.setToolbarPosition(),this.setToolbarButtonStates()):"anchor"===n?this.triggerAnchorAction(i):"image"===n?t.execCommand("insertImage",!1,e.getSelection()):(t.execCommand(n,!1,null),this.setToolbarPosition())},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(){var e=null,t=this.selectionRange;return e=this.rangeSelectsSingleNode(t)?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer},triggerAnchorAction:function(){var e=this.getSelectedParentElement();return e.tagName&&"a"===e.tagName.toLowerCase()?t.execCommand("unlink",!1,null):"block"===this.anchorForm.style.display?this.showToolbarActions():this.showAnchorForm(),this},execFormatBlock:function(e){var n=this.getSelectionData(this.selection.anchorNode);if("blockquote"===e&&n.el&&"blockquote"===n.el.parentNode.tagName.toLowerCase())return t.execCommand("outdent",!1,null);if(n.tagName===e&&(e="p"),this.isIE){if("blockquote"===e)return t.execCommand("indent",!1,e);e="<"+e+">"}return t.execCommand("formatBlock",!1,e)},getSelectionData:function(e){var t;for(e&&e.tagName&&(t=e.tagName.toLowerCase());e&&-1===this.parentElements.indexOf(t);)e=e.parentNode,e&&e.tagName&&(t=e.tagName.toLowerCase());return{el:e,tagName:t}},getFirstChild:function(e){for(var t=e.firstChild;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},hideToolbarActions:function(){this.keepToolbarAlive=!1,void 0!==this.toolbar&&this.toolbar.classList.remove("medium-editor-toolbar-active")},showToolbarActions:function(){var e,t=this;this.anchorForm.style.display="none",this.toolbarActions.style.display="block",this.keepToolbarAlive=!1,clearTimeout(e),e=setTimeout(function(){t.toolbar&&!t.toolbar.classList.contains("medium-editor-toolbar-active")&&t.toolbar.classList.add("medium-editor-toolbar-active")},100)},saveSelection:function(){this.savedSelection=i()},restoreSelection:function(){o(this.savedSelection)},showAnchorForm:function(e){this.toolbarActions.style.display="none",this.saveSelection(),this.anchorForm.style.display="block",this.keepToolbarAlive=!0,this.anchorInput.focus(),this.anchorInput.value=e||""},bindAnchorForm:function(){var e=this.anchorForm.querySelector("a"),t=this;return this.anchorForm.addEventListener("click",function(e){e.stopPropagation()}),this.anchorInput.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),t.createLink(this))}),this.anchorInput.addEventListener("click",function(e){e.stopPropagation(),t.keepToolbarAlive=!0}),this.anchorInput.addEventListener("blur",function(){t.keepToolbarAlive=!1,t.checkSelection()}),e.addEventListener("click",function(e){e.preventDefault(),t.showToolbarActions(),o(t.savedSelection)}),this},hideAnchorPreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active")},showAnchorPreview:function(t){if(this.anchorPreview.classList.contains("medium-editor-anchor-preview-active"))return!0;var n,i,o,r=this,s=40,a=t.getBoundingClientRect(),l=(a.left+a.right)/2;return r.anchorPreview.querySelector("i").textContent=t.href,n=r.anchorPreview.offsetWidth/2,i=r.options.diffLeft-n,clearTimeout(o),o=setTimeout(function(){r.anchorPreview&&!r.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&r.anchorPreview.classList.add("medium-editor-anchor-preview-active")},100),r.observeAnchorPreview(t),r.anchorPreview.classList.add("medium-toolbar-arrow-over"),r.anchorPreview.classList.remove("medium-toolbar-arrow-under"),r.anchorPreview.style.top=Math.round(s+a.bottom-r.options.diffTop+e.pageYOffset-r.anchorPreview.offsetHeight)+"px",r.anchorPreview.style.left=n>l?i+n+"px":e.innerWidth-l<n?e.innerWidth+i-n+"px":i+l+"px",this},observeAnchorPreview:function(e){var t=this,n=(new Date).getTime(),i=!0,o=function(){n=(new Date).getTime(),i=!0},r=function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(i=!1)},s=setInterval(function(){if(i)return!0;var a=(new Date).getTime()-n;a>t.options.anchorPreviewHideDelay&&(t.hideAnchorPreview(),clearInterval(s),t.anchorPreview.removeEventListener("mouseover",o),t.anchorPreview.removeEventListener("mouseout",r),e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",r))},200);t.anchorPreview.addEventListener("mouseover",o),t.anchorPreview.addEventListener("mouseout",r),e.addEventListener("mouseover",o),e.addEventListener("mouseout",r)},createAnchorPreview:function(){var e=this,n=t.createElement("div");return n.id="medium-editor-anchor-preview-"+this.id,n.className="medium-editor-anchor-preview",n.innerHTML=this.anchorPreviewTemplate(),this.options.elementsContainer.appendChild(n),n.addEventListener("click",function(){e.anchorPreviewClickHandler()}),n},anchorPreviewTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <i class="medium-editor-toolbar-anchor-preview-inner"></i></div>'},anchorPreviewClickHandler:function(){if(this.activeAnchor){var n=this,i=t.createRange(),o=e.getSelection();i.selectNodeContents(n.activeAnchor),o.removeAllRanges(),o.addRange(i),setTimeout(function(){n.activeAnchor&&n.showAnchorForm(n.activeAnchor.href),n.keepToolbarAlive=!1},100+n.options.delay)}this.hideAnchorPreview()},editorAnchorObserver:function(e){var t=this,n=!0,i=function(){n=!1,t.activeAnchor.removeEventListener("mouseout",i)};if(e.target&&"a"===e.target.tagName.toLowerCase()){if(!/href=["']\S+["']/.test(e.target.outerHTML)||/href=["']#\S+["']/.test(e.target.outerHTML))return!0;if(this.toolbar.classList.contains("medium-editor-toolbar-active"))return!0;this.activeAnchor=e.target,this.activeAnchor.addEventListener("mouseout",i),setTimeout(function(){n&&t.showAnchorPreview(e.target)},t.options.delay)}},bindAnchorPreview:function(){var e,t=this;for(this.editorAnchorObserverWrapper=function(e){t.editorAnchorObserver(e)},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("mouseover",this.editorAnchorObserverWrapper);return this},checkLinkFormat:function(e){var t=/^https?:\/\//;return e.match(t)?e:"http://"+e},setTargetBlank:function(){var e,t=r();if("a"===t.tagName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),e=0;e<t.length;e+=1)t[e].target="_blank"},createLink:function(e){return 0===e.value.trim().length?void this.hideToolbarActions():(o(this.savedSelection),this.options.checkLinkFormat&&(e.value=this.checkLinkFormat(e.value)),t.execCommand("createLink",!1,e.value),this.options.targetBlank&&this.setTargetBlank(),this.checkSelection(),this.showToolbarActions(),void(e.value=""))},bindWindowActions:function(){var t,n=this;return this.windowResizeHandler=function(){clearTimeout(t),t=setTimeout(function(){n.toolbar&&n.toolbar.classList.contains("medium-editor-toolbar-active")&&n.setToolbarPosition()},100)},e.addEventListener("resize",this.windowResizeHandler),this},activate:function(){this.isActive||this.setup()},deactivate:function(){var n;if(this.isActive)for(this.isActive=!1,void 0!==this.toolbar&&(this.options.elementsContainer.removeChild(this.anchorPreview),this.options.elementsContainer.removeChild(this.toolbar),delete this.toolbar,delete this.anchorPreview),t.documentElement.removeEventListener("mouseup",this.checkSelectionWrapper),e.removeEventListener("resize",this.windowResizeHandler),n=0;n<this.elements.length;n+=1)this.elements[n].removeEventListener("mouseover",this.editorAnchorObserverWrapper),this.elements[n].removeEventListener("keyup",this.checkSelectionWrapper),this.elements[n].removeEventListener("blur",this.checkSelectionWrapper),this.elements[n].removeEventListener("paste",this.pasteWrapper),this.elements[n].removeAttribute("contentEditable"),this.elements[n].removeAttribute("data-medium-element")},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},bindPaste:function(){var e,n=this;for(this.pasteWrapper=function(e){var i,o,r="";if(this.classList.remove("medium-editor-placeholder"),!n.options.forcePlainText&&!n.options.cleanPastedHTML)return this;if(e.clipboardData&&e.clipboardData.getData&&!e.defaultPrevented){if(e.preventDefault(),n.options.cleanPastedHTML&&e.clipboardData.getData("text/html"))return n.cleanPaste(e.clipboardData.getData("text/html"));if(n.options.disableReturn||this.getAttribute("data-disable-return"))t.execCommand("insertHTML",!1,e.clipboardData.getData("text/plain"));else{for(i=e.clipboardData.getData("text/plain").split(/[\r\n]/g),o=0;o<i.length;o+=1)""!==i[o]&&(r+=navigator.userAgent.match(/firefox/i)&&0===o?n.htmlEntities(i[o]):"<p>"+n.htmlEntities(i[o])+"</p>");t.execCommand("insertHTML",!1,r)}}},e=0;e<this.elements.length;e+=1)this.elements[e].addEventListener("paste",this.pasteWrapper);return this},cleanPaste:function(e){var n,i,o,r=this.getSelectionElement(),s=/<p|<br|<div/.test(e),a=[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi),'<a href="$2">']];for(n=0;n<a.length;n+=1)e=e.replace(a[n][0],a[n][1]);if(s)for(i=e.split("<br><br>"),this.pasteHTML("<p>"+i.join("</p><p>")+"</p>"),t.execCommand("insertText",!1,"\n"),i=r.querySelectorAll("p,div,br"),n=0;n<i.length;n+=1)switch(o=i[n],o.tagName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(o);break;case"br":this.filterLineBreak(o)}else this.pasteHTML(e)},pasteHTML:function(e){var n,i,o,r,s=t.createDocumentFragment();for(s.appendChild(t.createElement("body")),r=s.querySelector("body"),r.innerHTML=e,this.cleanupSpans(r),n=r.querySelectorAll("*"),o=0;o<n.length;o+=1)i=n[o],i.removeAttribute("class"),i.removeAttribute("style"),i.removeAttribute("dir"),"meta"===i.tagName.toLowerCase()&&i.parentNode.removeChild(i);t.execCommand("insertHTML",!1,r.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.tagName.toLowerCase()||"div"===e.tagName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.innerText)&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?e.parentNode.removeChild(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?1===e.parentNode.childElementCount&&this.removeWithParent(e):e.parentNode.removeChild(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e.parentNode))},cleanupSpans:function(e){var n,i,o,r=e.querySelectorAll(".replace-with");for(n=0;n<r.length;n+=1)i=r[n],o=t.createElement(i.classList.contains("bold")?"b":"i"),o.innerHTML=i.classList.contains("bold")&&i.classList.contains("italic")?"<i>"+i.innerHTML+"</i>":i.innerHTML,i.parentNode.replaceChild(o,i);for(r=e.querySelectorAll("span"),n=0;n<r.length;n+=1)i=r[n],/^\s*$/.test()?i.parentNode.removeChild(i):i.parentNode.replaceChild(t.createTextNode(i.innerText),i)}}}(window,document),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,i){var o,r,s=this;if(s.defaults={accessibility:!0,appendArrows:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" class="slick-prev">Previous</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button">'+(t+1)+"</button>"},dots:!1,draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.paused=!1,s.positionProp=null,s.$slider=e(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.windowWidth=0,s.windowTimer=null,s.options=e.extend({},s.defaults,i),s.originalSettings=s.options,o=s.options.responsive||null,o&&o.length>-1){for(r in o)o.hasOwnProperty(r)&&(s.breakpoints.push(o[r].breakpoint),s.breakpointSettings[o[r].breakpoint]=o[r].settings);s.breakpoints.sort(function(e,t){return t-e})}s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.changeSlide=e.proxy(s.changeSlide,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.instanceUid=n++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.init()}var n=0;return t}(),t.prototype.addSlide=function(t,n,i){var o=this;if("boolean"==typeof n)i=n,n=null;else if(0>n||n>=o.slideCount)return!1;o.unload(),"number"==typeof n?0===n&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):i?e(t).insertBefore(o.$slides.eq(n)):e(t).insertAfter(o.$slides.eq(n)):i===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).remove(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,n){e(n).attr("index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateSlide=function(t,n){var i={},o=this;o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,n):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,n):o.cssTransitions===!1?e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){o.options.vertical===!1?(i[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(i)):(i[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(i))},complete:function(){n&&n.call()}}):(o.applyTransition(),i[o.animType]=o.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(i),n&&setTimeout(function(){o.disableTransition(),n.call()},o.options.speed))},t.prototype.applyTransition=function(e){var t=this,n={};n[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var t=this,n=null!=t.options.asNavFor?e(t.options.asNavFor).getSlick():null;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(t.currentSlide-1===0&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide-n.options.slidesToScroll)):(t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,n,i=this;if(i.options.dots===!0&&i.slideCount>i.options.slidesToShow){for(n='<ul class="slick-dots">',t=0;t<=i.getDotCount();t+=1)n+="<li>"+i.options.customPaging.call(this,i,t)+"</li>";n+="</ul>",i.$dots=e(n).appendTo(i.$slider),i.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,n){e(n).attr("index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode===!0&&(t.options.slidesToScroll=1,t.options.slidesToShow%2===0&&(t.options.slidesToShow=3)),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")
},t.prototype.checkResponsive=function(){var t,n,i=this;if(i.originalSettings.responsive&&i.originalSettings.responsive.length>-1&&null!==i.originalSettings.responsive){n=null;for(t in i.breakpoints)i.breakpoints.hasOwnProperty(t)&&e(window).width()<i.breakpoints[t]&&(n=i.breakpoints[t]);null!==n?null!==i.activeBreakpoint?n!==i.activeBreakpoint&&(i.activeBreakpoint=n,i.options=e.extend({},i.options,i.breakpointSettings[n]),i.refresh()):(i.activeBreakpoint=n,i.options=e.extend({},i.options,i.breakpointSettings[n]),i.refresh()):null!==i.activeBreakpoint&&(i.activeBreakpoint=null,i.options=e.extend({},i.options,i.originalSettings),i.refresh())}},t.prototype.changeSlide=function(t){var n=this,i=e(t.target),o=null!=n.options.asNavFor?e(n.options.asNavFor).getSlick():null;switch(i.is("a")&&t.preventDefault(),t.data.message){case"previous":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide-n.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide-o.options.slidesToScroll));break;case"next":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide+n.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide+o.options.slidesToScroll));break;case"index":var r=e(t.target).parent().index()*n.options.slidesToScroll;n.slideHandler(r),null!=o&&o.slideHandler(r);break;default:return!1}},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.parent().hasClass("slick-track")&&t.$slides.unwrap().unwrap(),t.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style"),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;n.cssTransitions===!1?(n.$slides.eq(e).css({zIndex:1e3}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},t.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).remove(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e,t=this,n=0,i=0,o=0;for(e=t.options.infinite===!0?t.slideCount+t.options.slidesToShow-t.options.slidesToScroll:t.slideCount;e>n;)o++,i+=t.options.slidesToScroll,n=i+t.options.slidesToShow;return o},t.prototype.getLeft=function(e){var t,n,i=this,o=0;return i.slideOffset=0,n=i.$slides.first().outerHeight(),i.options.infinite===!0?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,o=n*i.options.slidesToShow*-1),i.slideCount%i.options.slidesToScroll!==0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideCount%i.options.slidesToShow*i.slideWidth*-1,o=i.slideCount%i.options.slidesToShow*n*-1)):i.slideCount%i.options.slidesToShow!==0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.options.slidesToShow*i.slideWidth-i.slideCount%i.options.slidesToShow*i.slideWidth,o=i.slideCount%i.options.slidesToShow*n),i.options.centerMode===!0&&i.options.infinite===!0?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:i.options.centerMode===!0&&(i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),t=i.options.vertical===!1?e*i.slideWidth*-1+i.slideOffset:e*n*-1+o},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.checkResponsive()),null!==t.options.onInit&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",t.autoPlayClear).on("mouseleave.slick",t.autoPlay)},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.options.pauseOnHover===!0&&t.options.autoplay===!0&&(t.$list.on("mouseenter.slick",t.autoPlayClear),t.$list.on("mouseleave.slick",t.autoPlay)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),n=e(this).attr("data-lazy");t.css({opacity:0}).attr("src",n).removeAttr("data-lazy").removeClass("slick-loading").load(function(){t.animate({opacity:1},200)})})}var n,i,o,r,s=this;s.options.centerMode===!0||s.options.fade===!0?(o=s.options.slidesToShow+s.currentSlide-1,r=o+s.options.slidesToShow+2):(o=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,r=o+s.options.slidesToShow),n=s.$slider.find(".slick-slide").slice(o,r),t(n),1==s.slideCount?(i=s.$slider.find(".slick-slide"),t(i)):s.currentSlide>=s.slideCount-s.options.slidesToShow?(i=s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow),t(i)):0===s.currentSlide&&(i=s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow),t(i))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t,n,i=this;t=e("img[data-lazy]").length,t>0&&(n=e("img[data-lazy]",i.$slider).first(),n.attr("src",n.attr("data-lazy")).removeClass("slick-loading").load(function(){n.removeAttr("data-lazy"),i.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,n=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.currentSlide=n,t.init()},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),null!==t.options.onReInit&&t.options.onReInit.call(this,t)},t.prototype.removeSlide=function(e,t){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).remove(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,n,i=this,o={};t="left"==i.positionProp?e+"px":"0px",n="top"==i.positionProp?e+"px":"0px",o[i.positionProp]=e,i.transformsEnabled===!1?i.$slideTrack.css(o):(o={},i.cssTransitions===!1?(o[i.animType]="translate("+t+", "+n+")",i.$slideTrack.css(o)):(o[i.animType]="translate3d("+t+", "+n+", 0px)",i.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;e.$slideTrack.children(".slick-slide").width(e.options.centerMode===!0?e.slideWidth:e.slideWidth),e.options.vertical===!1?(e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length)),e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding})):(e.$list.height(e.$slides.first().outerHeight()*e.options.slidesToShow),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight()*e.$slideTrack.children(".slick-slide").length)),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"}))},t.prototype.setFade=function(){var t,n=this;n.$slides.each(function(i,o){t=n.slideWidth*i*-1,e(o).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setPosition=function(){var e=this;e.setValues(),e.setDimensions(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},t.prototype.setProps=function(){var e=this;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==document.body.style.WebkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==document.body.style.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition"),void 0!==document.body.style.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition"),void 0!==document.body.style.msTransform&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType},t.prototype.setValues=function(){var e=this;e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.slideWidth=Math.ceil(e.options.vertical===!1?e.listWidth/e.options.slidesToShow:e.listWidth)},t.prototype.setSlideClasses=function(e){var t,n,i,o=this;o.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),n=o.$slider.find(".slick-slide"),o.options.centerMode===!0?(t=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active"):(i=o.options.slidesToShow+e,n.slice(i-t+1,i+t+2).addClass("slick-active")),0===e?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>0&&e<o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active"):n.length<=o.options.slidesToShow?n.addClass("slick-active"):(i=o.options.infinite===!0?o.options.slidesToShow+e:e,n.slice(i,i+o.options.slidesToShow).addClass("slick-active")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,n,i,o=this;if((o.options.fade===!0||o.options.vertical===!0)&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(n=null,o.slideCount>o.options.slidesToShow)){for(i=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-i;t-=1)n=t-1,e(o.$slides[n]).clone().attr("id","").prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;i>t;t+=1)n=t,e(o.$slides[n]).clone().attr("id","").appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var n=this,i=null!=n.options.asNavFor?e(n.options.asNavFor).getSlick():null,o=parseInt(e(t.target).parent().attr("index"));if(o||(o=0),!(n.slideCount<=n.options.slidesToShow)&&(n.slideHandler(o),null!=i)){if(i.slideCount<=i.options.slidesToShow)return;i.slideHandler(o)}},t.prototype.slideHandler=function(e){var t,n,i,o,r=null,s=this;return s.animating===!0?!1:(t=e,r=s.getLeft(t),i=s.getLeft(s.currentSlide),o=s.slideCount%s.options.slidesToScroll!==0?s.options.slidesToScroll:0,s.currentLeft=null===s.swipeLeft?i:s.swipeLeft,s.options.infinite===!1&&s.options.centerMode===!1&&(0>e||e>s.slideCount-s.options.slidesToShow+o)?(s.options.fade===!1&&(t=s.currentSlide,s.animateSlide(i,function(){s.postSlide(t)})),!1):s.options.infinite===!1&&s.options.centerMode===!0&&(0>e||e>s.slideCount-s.options.slidesToScroll)?(s.options.fade===!1&&(t=s.currentSlide,s.animateSlide(i,function(){s.postSlide(t)})),!1):(s.options.autoplay===!0&&clearInterval(s.autoPlayTimer),n=0>t?s.slideCount%s.options.slidesToScroll!==0?s.slideCount-s.slideCount%s.options.slidesToScroll:s.slideCount-s.options.slidesToScroll:t>s.slideCount-1?0:t,s.animating=!0,null!==s.options.onBeforeChange&&e!==s.currentSlide&&s.options.onBeforeChange.call(this,s,s.currentSlide,n),s.currentSlide=n,s.setSlideClasses(s.currentSlide),s.updateDots(),s.updateArrows(),s.options.fade===!0?(s.fadeSlide(n,function(){s.postSlide(n)}),!1):void s.animateSlide(r,function(){s.postSlide(n)})))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,i,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(t,e),i=Math.round(180*n/Math.PI),0>i&&(i=360-Math.abs(i)),45>=i&&i>=0?"left":360>=i&&i>=315?"left":i>=135&&225>=i?"right":"vertical"},t.prototype.swipeEnd=function(t){var n=this,i=null!=n.options.asNavFor?e(n.options.asNavFor).getSlick():null;if(n.dragging=!1,void 0===n.touchObject.curX)return!1;if(n.touchObject.swipeLength>=n.touchObject.minSwipe)switch(e(t.target).on("click.slick",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.slick")}),n.swipeDirection()){case"left":n.slideHandler(n.currentSlide+n.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide+i.options.slidesToScroll),n.touchObject={};break;case"right":n.slideHandler(n.currentSlide-n.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide-i.options.slidesToScroll),n.touchObject={}}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),null!=i&&i.slideHandler(i.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1||t.options.draggable===!1&&!e.originalEvent.touches))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,n,i,o,r=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,t=r.getLeft(r.currentSlide),!r.dragging||o&&1!==o.length?!1:(r.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,r.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),n=r.swipeDirection(),"vertical"!==n?(void 0!==e.originalEvent&&r.touchObject.swipeLength>4&&e.preventDefault(),i=r.touchObject.curX>r.touchObject.startX?1:-1,r.swipeLeft=r.options.vertical===!1?t+r.touchObject.swipeLength*i:t+r.touchObject.swipeLength*(r.$list.height()/r.listWidth)*i,r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,n=this;return 1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(n.dragging=!0))},t.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).remove(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style")},t.prototype.updateArrows=function(){var e=this;e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},e.fn.slick=function(e){var n=this;return n.each(function(n,i){i.slick=new t(i,e)})},e.fn.slickAdd=function(e,t,n){var i=this;return i.each(function(i,o){o.slick.addSlide(e,t,n)})},e.fn.slickCurrentSlide=function(){var e=this;return e.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){var t=this;return t.each(function(t,n){n.slick.filterSlides(e)})},e.fn.slickGoTo=function(t){var n=this;return n.each(function(n,i){var o=null!=i.slick.options.asNavFor?e(i.slick.options.asNavFor):null;null!=o&&o.slickGoTo(t),i.slick.slideHandler(t)})},e.fn.slickNext=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){var e=this;return e.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){var e=this;return e.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){var n=this;return n.each(function(n,i){i.slick.removeSlide(e,t)})},e.fn.slickGetOption=function(e){var t=this;return t.get(0).slick.options[e]},e.fn.slickSetOption=function(e,t,n){var i=this;return i.each(function(i,o){o.slick.options[e]=t,n===!0&&(o.slick.unload(),o.slick.reinit())})},e.fn.slickUnfilter=function(){var e=this;return e.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){var e=this;return e.each(function(e,t){t.slick&&t.slick.destroy()})},e.fn.getSlick=function(){var e=null,t=this;return t.each(function(t,n){e=n.slick}),e}}),$(document).ready(function(){function e(){"undefined"!=typeof google&&(n=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),google.maps.event.addListener(n,"place_changed",function(){t()}))}function t(){var e=n.getPlace();for(var t in i)document.getElementById(t).value="",document.getElementById(t).readOnly=!1;for(var o=0;o<e.address_components.length;o++){var r=e.address_components[o].types[0];if(i[r]){var s=e.address_components[o][i[r]];document.getElementById(r).value=s,document.getElementById(r).readOnly=!0}}$("#hidden-form").show()}$(".img-gallery").slick({dots:!0,arrows:!1}),$("#autocomplete").show(),$("#hidden-form").hide();var n,i={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"};if(e(),navigator.userAgent.match(/IEMobile\/10\.0/)){var o=document.createElement("style");o.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(o)}$(function(){var e=navigator.userAgent,t=e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&-1===e.indexOf("Chrome");t&&$("select.form-control").removeClass("form-control").css("width","100%")})});var unfollowButton=$("#unfollow-btn");unfollowButton.on("mouseover",function(){$(this).text("Unfollow"),$(this).addClass("btn-danger")}),unfollowButton.on("mouseleave",function(){unfollowButton.text("Following"),unfollowButton.removeClass("btn-danger")});var mediumEditor=new MediumEditor("[data-md-ed]",{firstHeader:"h3",secondHeader:"h4",cleanPastedHTML:!1,buttons:["bold","italic","anchor","header1","header2","blockquote","unorderedlist"],disableEditing:!1});